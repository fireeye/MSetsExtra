<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>MSetsExtra.MSetFoldWithAbort</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library MSetsExtra.MSetFoldWithAbort</h1>

<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab1"></a><h1 class="section">Fold with abort for sets</h1>


<div class="paragraph"> </div>

    This file provided an efficient fold operation for set interfaces.
    The standard fold iterates over all elements of the set. The
    efficient one - called <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbort"><span class="id" title="definition">foldWithAbort</span></a></span> - is allowed to skip
    certain elements and thereby abort early.  

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetInterface.html#"><span class="id" title="library">MSetInterface</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">mathcomp.ssreflect.ssreflect</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MSetsExtra.MSetWithDups.html#"><span class="id" title="library">MSetWithDups</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Int.html#"><span class="id" title="library">Int</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetGenTree.html#"><span class="id" title="library">MSetGenTree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetAVL.html#"><span class="id" title="library">MSetAVL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetRBT.html#"><span class="id" title="library">MSetRBT</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetList.html#"><span class="id" title="library">MSetList</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetWeakList.html#"><span class="id" title="library">MSetWeakList</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab2"></a><h2 class="section">Fold With Abort Operations</h2>


<div class="paragraph"> </div>

    We want to provide an efficient folding operation. Efficieny is
    gained by aborting the folding early, if we know that continuing
    would not have an effect any more. Formalising this leads to the following
    specification of <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbort"><span class="id" title="definition">foldWithAbort</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="foldWithAbortType" class="idref" href="#foldWithAbortType"><span class="id" title="definition">foldWithAbortType</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="elt:1" class="idref" href="#elt:1"><span class="id" title="binder">elt</span></a> </div>

<div class="doc">
element type of set 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="t:2" class="idref" href="#t:2"><span class="id" title="binder">t</span></a> </div>

<div class="doc">
type of set 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="A:3" class="idref" href="#A:3"><span class="id" title="binder">A</span></a> </div>

<div class="doc">
return type </div>
<div class="code">
 :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:1"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:3"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:3"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>    </div>

<div class="doc">
f 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:1"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:3"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> </div>

<div class="doc">
f_abort 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:2"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>                  </div>

<div class="doc">
input set 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:3"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>                  </div>

<div class="doc">
base value 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:3"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="foldWithAbortSpecPred" class="idref" href="#foldWithAbortSpecPred"><span class="id" title="definition">foldWithAbortSpecPred</span></a> {<a id="elt:4" class="idref" href="#elt:4"><span class="id" title="binder">elt</span></a> <a id="t:5" class="idref" href="#t:5"><span class="id" title="binder">t</span></a> : <span class="id" title="keyword">Type</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="In:6" class="idref" href="#In:6"><span class="id" title="binder">In</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:4"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:5"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="fold:8" class="idref" href="#fold:8"><span class="id" title="binder">fold</span></a> : <span class="id" title="keyword">∀</span> {<a id="A:7" class="idref" href="#A:7"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:4"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:7"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:7"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:5"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:7"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:7"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="foldWithAbort:10" class="idref" href="#foldWithAbort:10"><span class="id" title="binder">foldWithAbort</span></a> : <span class="id" title="keyword">∀</span> {<a id="A:9" class="idref" href="#A:9"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortType"><span class="id" title="definition">foldWithAbortType</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:4"><span class="id" title="variable">elt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:5"><span class="id" title="variable">t</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:9"><span class="id" title="variable">A</span></a>) : <span class="id" title="keyword">Prop</span> := <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:11" class="idref" href="#A:11"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
result type 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:12" class="idref" href="#i:12"><span class="id" title="binder">i</span></a> <a id="i':13" class="idref" href="#i':13"><span class="id" title="binder">i'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:11"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
base values for foldWithAbort and fold 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:14" class="idref" href="#f:14"><span class="id" title="binder">f</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:4"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:11"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:11"><span class="id" title="variable">A</span></a>) (<a id="f':15" class="idref" href="#f':15"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:4"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:11"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:11"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
fold functions for foldWithAbort and fold 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f_abort:16" class="idref" href="#f_abort:16"><span class="id" title="binder">f_abort</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:4"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:11"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
abort function 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:17" class="idref" href="#s:17"><span class="id" title="binder">s</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:5"><span class="id" title="variable">t</span></a>) </div>

<div class="doc">
sets to fold over 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:18" class="idref" href="#P:18"><span class="id" title="binder">P</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:11"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:11"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) </div>

<div class="doc">
equivalence relation on results </div>
<div class="code">
,<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">P</span></span> is an equivalence relation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:18"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.f"><span class="id" title="variable">f</span></a></span> is for the elements of <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.s"><span class="id" title="variable">s</span></a></span> compatible with the equivalence relation P 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st:19" class="idref" href="#st:19"><span class="id" title="binder">st</span></a> <a id="st':20" class="idref" href="#st':20"><span class="id" title="binder">st'</span></a> <a id="e:21" class="idref" href="#e:21"><span class="id" title="binder">e</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:6"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:21"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:18"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:19"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':20"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:18"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:14"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:21"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:19"><span class="id" title="variable">st</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:14"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:21"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':20"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.f"><span class="id" title="variable">f</span></a></span> and <span class="inlinecode"><span class="id" title="var">f'</span></span> agree for the elements of <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:22" class="idref" href="#e:22"><span class="id" title="binder">e</span></a> <a id="st:23" class="idref" href="#st:23"><span class="id" title="binder">st</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:6"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:22"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:18"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:14"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:22"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:23"><span class="id" title="variable">st</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':15"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:22"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:23"><span class="id" title="variable">st</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>       <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">f_abort</span></span> is OK, i.e. all other elements can be skipped without 
        leaving the equivalence relation. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:24" class="idref" href="#e1:24"><span class="id" title="binder">e1</span></a> <a id="st:25" class="idref" href="#st:25"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:6"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:24"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_abort:16"><span class="id" title="variable">f_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:24"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:25"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st':26" class="idref" href="#st':26"><span class="id" title="binder">st'</span></a> <a id="e2:27" class="idref" href="#e2:27"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:18"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:25"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':26"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:6"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:27"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:27"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:24"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:18"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:25"><span class="id" title="variable">st</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:14"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:27"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':26"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The base values are in equivalence relation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:18"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:12"><span class="id" title="variable">i</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i':13"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The results are in equivalence relation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:18"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbort:10"><span class="id" title="variable">foldWithAbort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:14"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_abort:16"><span class="id" title="variable">f_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:12"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fold:8"><span class="id" title="variable">fold</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':15"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i':13"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
</div>

<div class="doc">
The specification of folding for ordered sets (as represented by
    interface <span class="inlinecode"><span class="id" title="var">Sets</span></span>) demands that elements are visited in increasing
    order. For ordered sets we can therefore abort folding based on
    the weaker knowledge that greater elements have no effect on the
    result. The following definition captures this. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="foldWithAbortGtType" class="idref" href="#foldWithAbortGtType"><span class="id" title="definition">foldWithAbortGtType</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="elt:28" class="idref" href="#elt:28"><span class="id" title="binder">elt</span></a> </div>

<div class="doc">
element type of set 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="t:29" class="idref" href="#t:29"><span class="id" title="binder">t</span></a> </div>

<div class="doc">
type of set 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="A:30" class="idref" href="#A:30"><span class="id" title="binder">A</span></a> </div>

<div class="doc">
return type </div>
<div class="code">
 :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:28"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:30"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:30"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>    </div>

<div class="doc">
f 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:28"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:30"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> </div>

<div class="doc">
f_gt 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:29"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>                  </div>

<div class="doc">
input set 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:30"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>                  </div>

<div class="doc">
base value 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:30"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="foldWithAbortGtSpecPred" class="idref" href="#foldWithAbortGtSpecPred"><span class="id" title="definition">foldWithAbortGtSpecPred</span></a> {<a id="elt:31" class="idref" href="#elt:31"><span class="id" title="binder">elt</span></a> <a id="t:32" class="idref" href="#t:32"><span class="id" title="binder">t</span></a> : <span class="id" title="keyword">Type</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lt:33" class="idref" href="#lt:33"><span class="id" title="binder">lt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:31"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:31"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="In:34" class="idref" href="#In:34"><span class="id" title="binder">In</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:31"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:32"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="fold:36" class="idref" href="#fold:36"><span class="id" title="binder">fold</span></a> : <span class="id" title="keyword">∀</span> {<a id="A:35" class="idref" href="#A:35"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:31"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:35"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:35"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:32"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:35"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:35"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="foldWithAbortGt:38" class="idref" href="#foldWithAbortGt:38"><span class="id" title="binder">foldWithAbortGt</span></a> : <span class="id" title="keyword">∀</span> {<a id="A:37" class="idref" href="#A:37"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortType"><span class="id" title="definition">foldWithAbortType</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:31"><span class="id" title="variable">elt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:32"><span class="id" title="variable">t</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:37"><span class="id" title="variable">A</span></a>) : <span class="id" title="keyword">Prop</span> := <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:39" class="idref" href="#A:39"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
result type 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:40" class="idref" href="#i:40"><span class="id" title="binder">i</span></a> <a id="i':41" class="idref" href="#i':41"><span class="id" title="binder">i'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:39"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
base values for foldWithAbort and fold 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:42" class="idref" href="#f:42"><span class="id" title="binder">f</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:31"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:39"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:39"><span class="id" title="variable">A</span></a>) (<a id="f':43" class="idref" href="#f':43"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:31"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:39"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:39"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
fold functions for foldWithAbort and fold 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f_gt:44" class="idref" href="#f_gt:44"><span class="id" title="binder">f_gt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:31"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:39"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
abort function 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:45" class="idref" href="#s:45"><span class="id" title="binder">s</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:32"><span class="id" title="variable">t</span></a>) </div>

<div class="doc">
sets to fold over 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:46" class="idref" href="#P:46"><span class="id" title="binder">P</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:39"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:39"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) </div>

<div class="doc">
equivalence relation on results </div>
<div class="code">
,<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">P</span></span> is an equivalence relation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:46"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.f"><span class="id" title="variable">f</span></a></span> is for the elements of <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.s"><span class="id" title="variable">s</span></a></span> compatible with the equivalence relation P 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st:47" class="idref" href="#st:47"><span class="id" title="binder">st</span></a> <a id="st':48" class="idref" href="#st':48"><span class="id" title="binder">st'</span></a> <a id="e:49" class="idref" href="#e:49"><span class="id" title="binder">e</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:34"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:49"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:45"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:46"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:47"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':48"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:46"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:42"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:49"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:47"><span class="id" title="variable">st</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:42"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:49"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':48"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.f"><span class="id" title="variable">f</span></a></span> and <span class="inlinecode"><span class="id" title="var">f'</span></span> agree for the elements of <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:50" class="idref" href="#e:50"><span class="id" title="binder">e</span></a> <a id="st:51" class="idref" href="#st:51"><span class="id" title="binder">st</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:34"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:50"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:45"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:46"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:42"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:50"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:51"><span class="id" title="variable">st</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':43"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:50"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:51"><span class="id" title="variable">st</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>       <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">f_abort</span></span> is OK, i.e. all other elements can be skipped without 
        leaving the equivalence relation. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:52" class="idref" href="#e1:52"><span class="id" title="binder">e1</span></a> <a id="st:53" class="idref" href="#st:53"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:34"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:52"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:45"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:44"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:52"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:53"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st':54" class="idref" href="#st':54"><span class="id" title="binder">st'</span></a> <a id="e2:55" class="idref" href="#e2:55"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:46"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:53"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':54"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:34"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:55"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:45"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#lt:33"><span class="id" title="variable">lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:52"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:55"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:46"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:53"><span class="id" title="variable">st</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:42"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:55"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':54"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The base values are in equivalence relation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:46"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:40"><span class="id" title="variable">i</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i':41"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The results are in equivalence relation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:46"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortGt:38"><span class="id" title="variable">foldWithAbortGt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:42"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:44"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:45"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:40"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fold:36"><span class="id" title="variable">fold</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':43"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:45"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i':41"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
</div>

<div class="doc">
For ordered sets, we can safely skip elements at the end
    based on the knowledge that they are all greater than the current element.
    This leads to serious performance improvements for operations like
    filtering. It is tempting to try the symmetric operation and skip elements at
    the beginning based on the knowledge that they are too small to be interesting.
    So, we would like to start late as well as abort early. 

<div class="paragraph"> </div>

    This is indeed a very natural and efficient operation for set implementations 
    based on binary search trees (i.e. the AVL and RBT sets). We can completely symmetrically
    to skipping greater elements also skip smaller elements. This leads to the following
    specification. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="foldWithAbortGtLtType" class="idref" href="#foldWithAbortGtLtType"><span class="id" title="definition">foldWithAbortGtLtType</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="elt:56" class="idref" href="#elt:56"><span class="id" title="binder">elt</span></a> </div>

<div class="doc">
element type of set 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="t:57" class="idref" href="#t:57"><span class="id" title="binder">t</span></a> </div>

<div class="doc">
type of set 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="A:58" class="idref" href="#A:58"><span class="id" title="binder">A</span></a> </div>

<div class="doc">
return type </div>
<div class="code">
 :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:56"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:58"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> </div>

<div class="doc">
f_lt 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:56"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:58"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:58"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>    </div>

<div class="doc">
f 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:56"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:58"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> </div>

<div class="doc">
f_gt 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:57"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>                  </div>

<div class="doc">
input set 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:58"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>                  </div>

<div class="doc">
base value 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:58"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="foldWithAbortGtLtSpecPred" class="idref" href="#foldWithAbortGtLtSpecPred"><span class="id" title="definition">foldWithAbortGtLtSpecPred</span></a> {<a id="elt:59" class="idref" href="#elt:59"><span class="id" title="binder">elt</span></a> <a id="t:60" class="idref" href="#t:60"><span class="id" title="binder">t</span></a> : <span class="id" title="keyword">Type</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lt:61" class="idref" href="#lt:61"><span class="id" title="binder">lt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:59"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:59"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="In:62" class="idref" href="#In:62"><span class="id" title="binder">In</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:59"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:60"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="fold:64" class="idref" href="#fold:64"><span class="id" title="binder">fold</span></a> : <span class="id" title="keyword">∀</span> {<a id="A:63" class="idref" href="#A:63"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:59"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:63"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:63"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:60"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:63"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:63"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="foldWithAbortGtLt:66" class="idref" href="#foldWithAbortGtLt:66"><span class="id" title="binder">foldWithAbortGtLt</span></a> : <span class="id" title="keyword">∀</span> {<a id="A:65" class="idref" href="#A:65"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortGtLtType"><span class="id" title="definition">foldWithAbortGtLtType</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:59"><span class="id" title="variable">elt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:60"><span class="id" title="variable">t</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:65"><span class="id" title="variable">A</span></a>) : <span class="id" title="keyword">Prop</span> := <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:67" class="idref" href="#A:67"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
result type 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:68" class="idref" href="#i:68"><span class="id" title="binder">i</span></a> <a id="i':69" class="idref" href="#i':69"><span class="id" title="binder">i'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:67"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
base values for foldWithAbort and fold 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:70" class="idref" href="#f:70"><span class="id" title="binder">f</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:59"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:67"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:67"><span class="id" title="variable">A</span></a>) (<a id="f':71" class="idref" href="#f':71"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:59"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:67"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:67"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
fold functions for foldWithAbort and fold 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f_lt:72" class="idref" href="#f_lt:72"><span class="id" title="binder">f_lt</span></a> <a id="f_gt:73" class="idref" href="#f_gt:73"><span class="id" title="binder">f_gt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:59"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:67"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
abort functions 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:74" class="idref" href="#s:74"><span class="id" title="binder">s</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:60"><span class="id" title="variable">t</span></a>) </div>

<div class="doc">
sets to fold over 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:75" class="idref" href="#P:75"><span class="id" title="binder">P</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:67"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:67"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) </div>

<div class="doc">
equivalence relation on results </div>
<div class="code">
,<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">P</span></span> is an equivalence relation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:75"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.f"><span class="id" title="variable">f</span></a></span> is for the elements of <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.s"><span class="id" title="variable">s</span></a></span> compatible with the equivalence relation P 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st:76" class="idref" href="#st:76"><span class="id" title="binder">st</span></a> <a id="st':77" class="idref" href="#st':77"><span class="id" title="binder">st'</span></a> <a id="e:78" class="idref" href="#e:78"><span class="id" title="binder">e</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:62"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:78"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:75"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:76"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':77"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:75"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:70"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:78"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:76"><span class="id" title="variable">st</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:70"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:78"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':77"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.f"><span class="id" title="variable">f</span></a></span> and <span class="inlinecode"><span class="id" title="var">f'</span></span> agree for the elements of <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:79" class="idref" href="#e:79"><span class="id" title="binder">e</span></a> <a id="st:80" class="idref" href="#st:80"><span class="id" title="binder">st</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:62"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:79"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:75"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:70"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:79"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:80"><span class="id" title="variable">st</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':71"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:79"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:80"><span class="id" title="variable">st</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>       <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">f_lt</span></span> is OK, i.e. smaller elements can be skipped without 
        leaving the equivalence relation. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:81" class="idref" href="#e1:81"><span class="id" title="binder">e1</span></a> <a id="st:82" class="idref" href="#st:82"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:62"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:81"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:72"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:81"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:82"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st':83" class="idref" href="#st':83"><span class="id" title="binder">st'</span></a> <a id="e2:84" class="idref" href="#e2:84"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:75"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:82"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':83"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:62"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:84"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#lt:61"><span class="id" title="variable">lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:84"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:81"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:75"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:82"><span class="id" title="variable">st</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:70"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:84"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':83"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">f_gt</span></span> is OK, i.e. greater elements can be skipped without 
        leaving the equivalence relation. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:85" class="idref" href="#e1:85"><span class="id" title="binder">e1</span></a> <a id="st:86" class="idref" href="#st:86"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:62"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:85"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:73"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:85"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:86"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st':87" class="idref" href="#st':87"><span class="id" title="binder">st'</span></a> <a id="e2:88" class="idref" href="#e2:88"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:75"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:86"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':87"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:62"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:88"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#lt:61"><span class="id" title="variable">lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:85"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:88"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:75"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:86"><span class="id" title="variable">st</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:70"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:88"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':87"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The base values are in equivalence relation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:75"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:68"><span class="id" title="variable">i</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i':69"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The results are in equivalence relation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:75"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortGtLt:66"><span class="id" title="variable">foldWithAbortGtLt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:72"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:70"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:73"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:68"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fold:64"><span class="id" title="variable">fold</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':71"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i':69"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
</div>

<div class="doc">
We are interested in folding with abort mainly for runtime
    performance reasons of extracted code. The argument functions
    <span class="inlinecode"><span class="id" title="var">f_lt</span></span>, <span class="inlinecode"><span class="id" title="var">f_gt</span></span> and <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.f"><span class="id" title="variable">f</span></a></span> of <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortGtLt"><span class="id" title="definition">foldWithAbortGtLt</span></a></span> often share a large,
    comparably expensive part of their computation.

<div class="paragraph"> </div>

    In order to further improve runtime performance, therefore another
    version <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a></span> <span class="inlinecode"><span class="id" title="var">f_precompute</span></span> <span class="inlinecode"><span class="id" title="var">f_lt</span></span> <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><span class="id" title="var">f_gt</span></span> that
    uses an extra function <span class="inlinecode"><span class="id" title="var">f_precompute</span></span> to allows to compute the
    commonly used parts of these functions only once. This leads to
    the following definitions. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="foldWithAbortPrecomputeType" class="idref" href="#foldWithAbortPrecomputeType"><span class="id" title="definition">foldWithAbortPrecomputeType</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="elt:89" class="idref" href="#elt:89"><span class="id" title="binder">elt</span></a> </div>

<div class="doc">
element type of set 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="t:90" class="idref" href="#t:90"><span class="id" title="binder">t</span></a> </div>

<div class="doc">
type of set 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="A:91" class="idref" href="#A:91"><span class="id" title="binder">A</span></a> </div>

<div class="doc">
return type 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a id="B:92" class="idref" href="#B:92"><span class="id" title="binder">B</span></a> </div>

<div class="doc">
type of precomputed results </div>
<div class="code">
 := <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:89"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:92"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>               </div>

<div class="doc">
f_precompute 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:89"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:92"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:91"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  </div>

<div class="doc">
f_lt 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:89"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:92"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:91"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:91"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>     </div>

<div class="doc">
f 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:89"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:92"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:91"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  </div>

<div class="doc">
f_gt 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:90"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>                        </div>

<div class="doc">
input set 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:91"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>                        </div>

<div class="doc">
base value 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:91"><span class="id" title="variable">A</span></a>.<br/>

<br/>
</div>

<div class="doc">
The specification is similar to the one without precompute,
    but uses <span class="inlinecode"><span class="id" title="var">f_precompute</span></span> so avoid doing computations multiple times 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="foldWithAbortPrecomputeSpecPred" class="idref" href="#foldWithAbortPrecomputeSpecPred"><span class="id" title="definition">foldWithAbortPrecomputeSpecPred</span></a> {<a id="elt:93" class="idref" href="#elt:93"><span class="id" title="binder">elt</span></a> <a id="t:94" class="idref" href="#t:94"><span class="id" title="binder">t</span></a> : <span class="id" title="keyword">Type</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lt:95" class="idref" href="#lt:95"><span class="id" title="binder">lt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:93"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:93"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="In:96" class="idref" href="#In:96"><span class="id" title="binder">In</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:93"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:94"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="fold:98" class="idref" href="#fold:98"><span class="id" title="binder">fold</span></a> : <span class="id" title="keyword">∀</span> {<a id="A:97" class="idref" href="#A:97"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:93"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:97"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:97"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:94"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:97"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:97"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="foldWithAbortPrecompute:101" class="idref" href="#foldWithAbortPrecompute:101"><span class="id" title="binder">foldWithAbortPrecompute</span></a> : <span class="id" title="keyword">∀</span> {<a id="A:99" class="idref" href="#A:99"><span class="id" title="binder">A</span></a> <a id="B:100" class="idref" href="#B:100"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>}, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortPrecomputeType"><span class="id" title="definition">foldWithAbortPrecomputeType</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:93"><span class="id" title="variable">elt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:94"><span class="id" title="variable">t</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:99"><span class="id" title="variable">A</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:100"><span class="id" title="variable">B</span></a>) : <span class="id" title="keyword">Prop</span> := <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:102" class="idref" href="#A:102"><span class="id" title="binder">A</span></a> <a id="B:103" class="idref" href="#B:103"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
result type 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:104" class="idref" href="#i:104"><span class="id" title="binder">i</span></a> <a id="i':105" class="idref" href="#i':105"><span class="id" title="binder">i'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:102"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
base values for foldWithAbortPrecompute and fold 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f_precompute:106" class="idref" href="#f_precompute:106"><span class="id" title="binder">f_precompute</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:93"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:103"><span class="id" title="variable">B</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
precompute function 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:107" class="idref" href="#f:107"><span class="id" title="binder">f</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:93"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:103"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:102"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:102"><span class="id" title="variable">A</span></a>) (<a id="f':108" class="idref" href="#f':108"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:93"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:102"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:102"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
fold functions for foldWithAbortPrecompute and fold 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f_lt:109" class="idref" href="#f_lt:109"><span class="id" title="binder">f_lt</span></a> <a id="f_gt:110" class="idref" href="#f_gt:110"><span class="id" title="binder">f_gt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#elt:93"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:103"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:102"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
abort functions 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:111" class="idref" href="#s:111"><span class="id" title="binder">s</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:94"><span class="id" title="variable">t</span></a>) </div>

<div class="doc">
sets to fold over 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:112" class="idref" href="#P:112"><span class="id" title="binder">P</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:102"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:102"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) </div>

<div class="doc">
equivalence relation on results </div>
<div class="code">
,<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">P</span></span> is an equivalence relation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:112"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.f"><span class="id" title="variable">f</span></a></span> is for the elements of <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.s"><span class="id" title="variable">s</span></a></span> compatible with the equivalence relation P 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st:113" class="idref" href="#st:113"><span class="id" title="binder">st</span></a> <a id="st':114" class="idref" href="#st':114"><span class="id" title="binder">st'</span></a> <a id="e:115" class="idref" href="#e:115"><span class="id" title="binder">e</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:96"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:115"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:111"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:112"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:113"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':114"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:112"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:107"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:115"><span class="id" title="variable">e</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_precompute:106"><span class="id" title="variable">f_precompute</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:115"><span class="id" title="variable">e</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:113"><span class="id" title="variable">st</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:107"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:115"><span class="id" title="variable">e</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_precompute:106"><span class="id" title="variable">f_precompute</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:115"><span class="id" title="variable">e</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':114"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.f"><span class="id" title="variable">f</span></a></span> and <span class="inlinecode"><span class="id" title="var">f'</span></span> agree for the elements of <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:116" class="idref" href="#e:116"><span class="id" title="binder">e</span></a> <a id="st:117" class="idref" href="#st:117"><span class="id" title="binder">st</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:96"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:116"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:111"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:112"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:107"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:116"><span class="id" title="variable">e</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_precompute:106"><span class="id" title="variable">f_precompute</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:116"><span class="id" title="variable">e</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:117"><span class="id" title="variable">st</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':108"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:116"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:117"><span class="id" title="variable">st</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>       <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">f_lt</span></span> is OK, i.e. smaller elements can be skipped without 
        leaving the equivalence relation. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:118" class="idref" href="#e1:118"><span class="id" title="binder">e1</span></a> <a id="st:119" class="idref" href="#st:119"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:96"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:118"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:111"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:109"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:118"><span class="id" title="variable">e1</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_precompute:106"><span class="id" title="variable">f_precompute</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:118"><span class="id" title="variable">e1</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:119"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st':120" class="idref" href="#st':120"><span class="id" title="binder">st'</span></a> <a id="e2:121" class="idref" href="#e2:121"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:112"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:119"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':120"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:96"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:121"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:111"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#lt:95"><span class="id" title="variable">lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:121"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:118"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:112"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:119"><span class="id" title="variable">st</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:107"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:121"><span class="id" title="variable">e2</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_precompute:106"><span class="id" title="variable">f_precompute</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:121"><span class="id" title="variable">e2</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':120"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">f_gt</span></span> is OK, i.e. greater elements can be skipped without 
        leaving the equivalence relation. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:122" class="idref" href="#e1:122"><span class="id" title="binder">e1</span></a> <a id="st:123" class="idref" href="#st:123"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:96"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:122"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:111"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:110"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:122"><span class="id" title="variable">e1</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_precompute:106"><span class="id" title="variable">f_precompute</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:122"><span class="id" title="variable">e1</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:123"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st':124" class="idref" href="#st':124"><span class="id" title="binder">st'</span></a> <a id="e2:125" class="idref" href="#e2:125"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:112"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:123"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':124"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#In:96"><span class="id" title="variable">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:125"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:111"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#lt:95"><span class="id" title="variable">lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:122"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:125"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:112"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:123"><span class="id" title="variable">st</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:107"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:125"><span class="id" title="variable">e2</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_precompute:106"><span class="id" title="variable">f_precompute</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:125"><span class="id" title="variable">e2</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':124"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The base values are in equivalence relation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:112"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:104"><span class="id" title="variable">i</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i':105"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The results are in equivalence relation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:112"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortPrecompute:101"><span class="id" title="variable">foldWithAbortPrecompute</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_precompute:106"><span class="id" title="variable">f_precompute</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:109"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:107"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:110"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:111"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:104"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fold:98"><span class="id" title="variable">fold</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':108"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:111"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i':105"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab3"></a><h3 class="section">Module Types</h3>

<div class="paragraph"> </div>

 We now define a module type for <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbort"><span class="id" title="definition">foldWithAbort</span></a></span>. This module
    type demands only the existence of the precompute version, since
    the other ones can be easily defined via this most efficient one. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="HasFoldWithAbort" class="idref" href="#HasFoldWithAbort"><span class="id" title="module">HasFoldWithAbort</span></a> (<span class="id" title="var">E</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>) (<span class="id" title="keyword">Import</span> <span class="id" title="var">C</span> : <a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups"><span class="id" title="module">WSetsOnWithDups</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E"><span class="id" title="module">E</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="HasFoldWithAbort.foldWithAbortPrecompute" class="idref" href="#HasFoldWithAbort.foldWithAbortPrecompute"><span class="id" title="axiom">foldWithAbortPrecompute</span></a> : <span class="id" title="keyword">∀</span> {<a id="A:126" class="idref" href="#A:126"><span class="id" title="binder">A</span></a> <a id="B:127" class="idref" href="#B:127"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>}, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortPrecomputeType"><span class="id" title="definition">foldWithAbortPrecomputeType</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:126"><span class="id" title="variable">A</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:127"><span class="id" title="variable">B</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="HasFoldWithAbort.foldWithAbortPrecomputeSpec" class="idref" href="#HasFoldWithAbort.foldWithAbortPrecomputeSpec"><span class="id" title="axiom">foldWithAbortPrecomputeSpec</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortPrecomputeSpecPred"><span class="id" title="definition">foldWithAbortPrecomputeSpecPred</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.fold"><span class="id" title="axiom">fold</span></a>) (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbort.foldWithAbortPrecompute"><span class="id" title="axiom">foldWithAbortPrecompute</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbort"><span class="id" title="module">HasFoldWithAbort</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab4"></a><h2 class="section">Derived operations</h2>


<div class="paragraph"> </div>

    Using these efficient fold operations, many operations can 
    be implemented efficiently. We provide lemmata and efficient implementations
    of useful algorithms via module <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps"><span class="id" title="module">HasFoldWithAbortOps</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="HasFoldWithAbortOps" class="idref" href="#HasFoldWithAbortOps"><span class="id" title="module">HasFoldWithAbortOps</span></a> (<span class="id" title="var">E</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>) (<span class="id" title="var">C</span> : <a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups"><span class="id" title="module">WSetsOnWithDups</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E"><span class="id" title="module">E</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FT</span> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbort"><span class="id" title="module">HasFoldWithAbort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E"><span class="id" title="module">E</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C"><span class="id" title="module">C</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#FT"><span class="id" title="module">FT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C"><span class="id" title="module">C</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h3 class="section">First lets define the other folding with abort variants</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="HasFoldWithAbortOps.foldWithAbortGtLt" class="idref" href="#HasFoldWithAbortOps.foldWithAbortGtLt"><span class="id" title="definition">foldWithAbortGtLt</span></a> {<a id="A:130" class="idref" href="#A:130"><span class="id" title="binder">A</span></a>} <a id="f_lt:131" class="idref" href="#f_lt:131"><span class="id" title="binder">f_lt</span></a> (<a id="f:132" class="idref" href="#f:132"><span class="id" title="binder">f</span></a> : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:130"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:130"><span class="id" title="variable">A</span></a>)) <a id="f_gt:133" class="idref" href="#f_gt:133"><span class="id" title="binder">f_gt</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#FT.foldWithAbortPrecompute"><span class="id" title="axiom">foldWithAbortPrecompute</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) (<span class="id" title="keyword">fun</span> <a id="e:138" class="idref" href="#e:138"><span class="id" title="binder">e</span></a> <span class="id" title="var">_</span> <a id="st:139" class="idref" href="#st:139"><span class="id" title="binder">st</span></a> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:131"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:138"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:139"><span class="id" title="variable">st</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="e:136" class="idref" href="#e:136"><span class="id" title="binder">e</span></a> <span class="id" title="var">_</span> <a id="st:137" class="idref" href="#st:137"><span class="id" title="binder">st</span></a> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:132"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:136"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:137"><span class="id" title="variable">st</span></a>) (<span class="id" title="keyword">fun</span> <a id="e:134" class="idref" href="#e:134"><span class="id" title="binder">e</span></a> <span class="id" title="var">_</span> <a id="st:135" class="idref" href="#st:135"><span class="id" title="binder">st</span></a> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:133"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:134"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:135"><span class="id" title="variable">st</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="HasFoldWithAbortOps.foldWithAbortGtLtSpec" class="idref" href="#HasFoldWithAbortOps.foldWithAbortGtLtSpec"><span class="id" title="lemma">foldWithAbortGtLtSpec</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortGtLtSpecPred"><span class="id" title="definition">foldWithAbortGtLtSpecPred</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.fold"><span class="id" title="axiom">fold</span></a>) (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortGtLt"><span class="id" title="definition">foldWithAbortGtLt</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortGtLt"><span class="id" title="definition">foldWithAbortGtLt</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortGtLtSpecPred"><span class="id" title="definition">foldWithAbortGtLtSpecPred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f_lt</span> <span class="id" title="var">f_gt</span> <span class="id" title="var">s</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_f_compat</span> <span class="id" title="var">H_ff'</span> <span class="id" title="var">H_lt</span> <span class="id" title="var">H_gt</span> <span class="id" title="var">H_ii'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#FT.foldWithAbortPrecomputeSpec"><span class="id" title="axiom">foldWithAbortPrecomputeSpec</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="HasFoldWithAbortOps.foldWithAbortGt" class="idref" href="#HasFoldWithAbortOps.foldWithAbortGt"><span class="id" title="definition">foldWithAbortGt</span></a> {<a id="A:140" class="idref" href="#A:140"><span class="id" title="binder">A</span></a>} (<a id="f:141" class="idref" href="#f:141"><span class="id" title="binder">f</span></a> : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:140"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:140"><span class="id" title="variable">A</span></a>)) <a id="f_gt:142" class="idref" href="#f_gt:142"><span class="id" title="binder">f_gt</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#FT.foldWithAbortPrecompute"><span class="id" title="axiom">foldWithAbortPrecompute</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="e:145" class="idref" href="#e:145"><span class="id" title="binder">e</span></a> <span class="id" title="var">_</span> <a id="st:146" class="idref" href="#st:146"><span class="id" title="binder">st</span></a> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:141"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:145"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:146"><span class="id" title="variable">st</span></a>) (<span class="id" title="keyword">fun</span> <a id="e:143" class="idref" href="#e:143"><span class="id" title="binder">e</span></a> <span class="id" title="var">_</span> <a id="st:144" class="idref" href="#st:144"><span class="id" title="binder">st</span></a> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:142"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:143"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:144"><span class="id" title="variable">st</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="HasFoldWithAbortOps.foldWithAbortGtSpec" class="idref" href="#HasFoldWithAbortOps.foldWithAbortGtSpec"><span class="id" title="lemma">foldWithAbortGtSpec</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortGtSpecPred"><span class="id" title="definition">foldWithAbortGtSpecPred</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.fold"><span class="id" title="axiom">fold</span></a>) (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortGt"><span class="id" title="definition">foldWithAbortGt</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortGt"><span class="id" title="definition">foldWithAbortGt</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortGtSpecPred"><span class="id" title="definition">foldWithAbortGtSpecPred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f_gt</span> <span class="id" title="var">s</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_f_compat</span> <span class="id" title="var">H_ff'</span> <span class="id" title="var">H_gt</span> <span class="id" title="var">H_ii'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#FT.foldWithAbortPrecomputeSpec"><span class="id" title="axiom">foldWithAbortPrecomputeSpec</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="HasFoldWithAbortOps.foldWithAbort" class="idref" href="#HasFoldWithAbortOps.foldWithAbort"><span class="id" title="definition">foldWithAbort</span></a> {<a id="A:147" class="idref" href="#A:147"><span class="id" title="binder">A</span></a>} (<a id="f:148" class="idref" href="#f:148"><span class="id" title="binder">f</span></a> : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:147"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:147"><span class="id" title="variable">A</span></a>)) <a id="f_abort:149" class="idref" href="#f_abort:149"><span class="id" title="binder">f_abort</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#FT.foldWithAbortPrecompute"><span class="id" title="axiom">foldWithAbortPrecompute</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) (<span class="id" title="keyword">fun</span> <a id="e:154" class="idref" href="#e:154"><span class="id" title="binder">e</span></a> <span class="id" title="var">_</span> <a id="st:155" class="idref" href="#st:155"><span class="id" title="binder">st</span></a> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_abort:149"><span class="id" title="variable">f_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:154"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:155"><span class="id" title="variable">st</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="e:152" class="idref" href="#e:152"><span class="id" title="binder">e</span></a> <span class="id" title="var">_</span> <a id="st:153" class="idref" href="#st:153"><span class="id" title="binder">st</span></a> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:148"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:152"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:153"><span class="id" title="variable">st</span></a>) (<span class="id" title="keyword">fun</span> <a id="e:150" class="idref" href="#e:150"><span class="id" title="binder">e</span></a> <span class="id" title="var">_</span> <a id="st:151" class="idref" href="#st:151"><span class="id" title="binder">st</span></a> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_abort:149"><span class="id" title="variable">f_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:150"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:151"><span class="id" title="variable">st</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="HasFoldWithAbortOps.foldWithAbortSpec" class="idref" href="#HasFoldWithAbortOps.foldWithAbortSpec"><span class="id" title="lemma">foldWithAbortSpec</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortSpecPred"><span class="id" title="definition">foldWithAbortSpecPred</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.fold"><span class="id" title="axiom">fold</span></a>) (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbort"><span class="id" title="definition">foldWithAbort</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbort"><span class="id" title="definition">foldWithAbort</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortGtSpecPred"><span class="id" title="definition">foldWithAbortGtSpecPred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f_abort</span> <span class="id" title="var">s</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_equiv_P</span> <span class="id" title="var">H_f_compat</span> <span class="id" title="var">H_ff'</span> <span class="id" title="var">H_abort</span> <span class="id" title="var">H_ii'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_lt_neq</span>: (<span class="id" title="keyword">∀</span> <a id="e1:156" class="idref" href="#e1:156"><span class="id" title="binder">e1</span></a> <a id="e2:157" class="idref" href="#e2:157"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:156"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:157"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:156"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:157"><span class="id" title="variable">e2</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">H_lt</span> <span class="id" title="var">H_e12_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H_e12_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> : ( <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Irreflexive"><span class="id" title="class">Irreflexive</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#StrictOrder_Irreflexive"><span class="id" title="method">StrictOrder_Irreflexive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Irreflexive"><span class="id" title="class">Irreflexive</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#complement"><span class="id" title="definition">complement</span></a> ⇒ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>, <span class="id" title="var">H_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#FT.foldWithAbortPrecomputeSpec"><span class="id" title="axiom">foldWithAbortPrecomputeSpec</span></a> ⇒ //; (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_in_e1</span> <span class="id" title="var">H_abort_e1</span> <span class="id" title="var">st'</span> <span class="id" title="var">e2</span> <span class="id" title="var">H_P</span> <span class="id" title="var">H_in_e2</span> /<span class="id" title="var">H_lt_neq</span> <span class="id" title="var">H_lt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H_abort</span> <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_in_e1</span> <span class="id" title="var">H_abort_e1</span> <span class="id" title="var">st'</span> <span class="id" title="var">e2</span> <span class="id" title="var">H_P</span> <span class="id" title="var">H_in_e2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab6"></a><h3 class="section">Specialisations for equality</h3>

<div class="paragraph"> </div>

 Let's provide simplified specifications, which use equality instead
      of an arbitrary equivalence relation on results. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="HasFoldWithAbortOps.foldWithAbortPrecomputeSpec_Equal" class="idref" href="#HasFoldWithAbortOps.foldWithAbortPrecomputeSpec_Equal"><span class="id" title="lemma">foldWithAbortPrecomputeSpec_Equal</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:158" class="idref" href="#A:158"><span class="id" title="binder">A</span></a> <a id="B:159" class="idref" href="#B:159"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="i:160" class="idref" href="#i:160"><span class="id" title="binder">i</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:158"><span class="id" title="variable">A</span></a>) (<a id="f_pre:161" class="idref" href="#f_pre:161"><span class="id" title="binder">f_pre</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:159"><span class="id" title="variable">B</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:162" class="idref" href="#f:162"><span class="id" title="binder">f</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:159"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:158"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:158"><span class="id" title="variable">A</span></a>) (<a id="f':163" class="idref" href="#f':163"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:158"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:158"><span class="id" title="variable">A</span></a>) (<a id="f_lt:164" class="idref" href="#f_lt:164"><span class="id" title="binder">f_lt</span></a> <a id="f_gt:165" class="idref" href="#f_gt:165"><span class="id" title="binder">f_gt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:159"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:158"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="s:166" class="idref" href="#s:166"><span class="id" title="binder">s</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.t"><span class="id" title="axiom">t</span></a>),<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:167" class="idref" href="#e:167"><span class="id" title="binder">e</span></a> <a id="st:168" class="idref" href="#st:168"><span class="id" title="binder">st</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:167"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:166"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:162"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:167"><span class="id" title="variable">e</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:161"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:167"><span class="id" title="variable">e</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:168"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':163"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:167"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:168"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>       <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:169" class="idref" href="#e1:169"><span class="id" title="binder">e1</span></a> <a id="st:170" class="idref" href="#st:170"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:169"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:166"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:164"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:169"><span class="id" title="variable">e1</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:161"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:169"><span class="id" title="variable">e1</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:170"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e2:171" class="idref" href="#e2:171"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:171"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:166"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:171"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:169"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:162"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:171"><span class="id" title="variable">e2</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:161"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:171"><span class="id" title="variable">e2</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:170"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:170"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:172" class="idref" href="#e1:172"><span class="id" title="binder">e1</span></a> <a id="st:173" class="idref" href="#st:173"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:172"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:166"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:165"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:172"><span class="id" title="variable">e1</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:161"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:172"><span class="id" title="variable">e1</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:173"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e2:174" class="idref" href="#e2:174"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:174"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:166"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:172"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:174"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:162"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:174"><span class="id" title="variable">e2</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:161"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:174"><span class="id" title="variable">e2</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:173"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:173"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#FT.foldWithAbortPrecompute"><span class="id" title="axiom">foldWithAbortPrecompute</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:161"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:164"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:162"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:165"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:166"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:160"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':163"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:166"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:160"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">f_pre</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f_lt</span> <span class="id" title="var">f_gt</span> <span class="id" title="var">s</span> <span class="id" title="var">H_f'</span> <span class="id" title="var">H_lt</span> <span class="id" title="var">H_gt</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#FT.foldWithAbortPrecomputeSpec"><span class="id" title="axiom">foldWithAbortPrecomputeSpec</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">i</span> <span class="id" title="var">f_pre</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>); <span class="id" title="tactic">eauto</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#eq_equivalence"><span class="id" title="instance">eq_equivalence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">st1</span> <span class="id" title="var">st2</span> <span class="id" title="var">e</span> <span class="id" title="var">H_in</span> → //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_do_smaller</span> <span class="id" title="var">st'</span> <span class="id" title="var">e2</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">H_lt</span> <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_do_smaller</span> <span class="id" title="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_do_greater</span> <span class="id" title="var">st'</span> <span class="id" title="var">e2</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">H_gt</span> <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_do_greater</span> <span class="id" title="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="HasFoldWithAbortOps.foldWithAbortGtLtSpec_Equal" class="idref" href="#HasFoldWithAbortOps.foldWithAbortGtLtSpec_Equal"><span class="id" title="lemma">foldWithAbortGtLtSpec_Equal</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:175" class="idref" href="#A:175"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="i:176" class="idref" href="#i:176"><span class="id" title="binder">i</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:175"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:177" class="idref" href="#f:177"><span class="id" title="binder">f</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:175"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:175"><span class="id" title="variable">A</span></a>) (<a id="f':178" class="idref" href="#f':178"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:175"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:175"><span class="id" title="variable">A</span></a>) (<a id="f_lt:179" class="idref" href="#f_lt:179"><span class="id" title="binder">f_lt</span></a> <a id="f_gt:180" class="idref" href="#f_gt:180"><span class="id" title="binder">f_gt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:175"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="s:181" class="idref" href="#s:181"><span class="id" title="binder">s</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.t"><span class="id" title="axiom">t</span></a>),<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:182" class="idref" href="#e:182"><span class="id" title="binder">e</span></a> <a id="st:183" class="idref" href="#st:183"><span class="id" title="binder">st</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:182"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:181"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:177"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:182"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:183"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':178"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:182"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:183"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>       <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:184" class="idref" href="#e1:184"><span class="id" title="binder">e1</span></a> <a id="st:185" class="idref" href="#st:185"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:184"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:181"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:179"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:184"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:185"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e2:186" class="idref" href="#e2:186"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:186"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:181"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:186"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:184"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:177"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:186"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:185"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:185"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:187" class="idref" href="#e1:187"><span class="id" title="binder">e1</span></a> <a id="st:188" class="idref" href="#st:188"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:187"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:181"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:180"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:187"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:188"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e2:189" class="idref" href="#e2:189"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:189"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:181"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:187"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:189"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:177"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:189"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:188"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:188"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortGtLt"><span class="id" title="definition">foldWithAbortGtLt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:179"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:177"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:180"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:181"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:176"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':178"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:181"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:176"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">i</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f_lt</span> <span class="id" title="var">f_gt</span> <span class="id" title="var">s</span> <span class="id" title="var">H_f'</span> <span class="id" title="var">H_lt</span> <span class="id" title="var">H_gt</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortGtLtSpec"><span class="id" title="lemma">foldWithAbortGtLtSpec</span></a> <span class="id" title="var">A</span> <span class="id" title="var">i</span> <span class="id" title="var">i</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>); <span class="id" title="tactic">eauto</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#eq_equivalence"><span class="id" title="instance">eq_equivalence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">st1</span> <span class="id" title="var">st2</span> <span class="id" title="var">e</span> <span class="id" title="var">H_in</span> → //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_do_smaller</span> <span class="id" title="var">st'</span> <span class="id" title="var">e2</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">H_lt</span> <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_do_smaller</span> <span class="id" title="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_do_greater</span> <span class="id" title="var">st'</span> <span class="id" title="var">e2</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">H_gt</span> <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_do_greater</span> <span class="id" title="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="HasFoldWithAbortOps.foldWithAbortGtSpec_Equal" class="idref" href="#HasFoldWithAbortOps.foldWithAbortGtSpec_Equal"><span class="id" title="lemma">foldWithAbortGtSpec_Equal</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:190" class="idref" href="#A:190"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="i:191" class="idref" href="#i:191"><span class="id" title="binder">i</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:190"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:192" class="idref" href="#f:192"><span class="id" title="binder">f</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:190"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:190"><span class="id" title="variable">A</span></a>) (<a id="f':193" class="idref" href="#f':193"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:190"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:190"><span class="id" title="variable">A</span></a>) (<a id="f_gt:194" class="idref" href="#f_gt:194"><span class="id" title="binder">f_gt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:190"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="s:195" class="idref" href="#s:195"><span class="id" title="binder">s</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.t"><span class="id" title="axiom">t</span></a>),<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:196" class="idref" href="#e:196"><span class="id" title="binder">e</span></a> <a id="st:197" class="idref" href="#st:197"><span class="id" title="binder">st</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:196"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:195"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:192"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:196"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:197"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':193"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:196"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:197"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>       <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:198" class="idref" href="#e1:198"><span class="id" title="binder">e1</span></a> <a id="st:199" class="idref" href="#st:199"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:198"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:195"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:194"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:198"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:199"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e2:200" class="idref" href="#e2:200"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:200"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:195"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:198"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:200"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:192"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:200"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:199"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:199"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortGt"><span class="id" title="definition">foldWithAbortGt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:192"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:194"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:195"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:191"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':193"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:195"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:191"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">i</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f_gt</span> <span class="id" title="var">s</span> <span class="id" title="var">H_f'</span> <span class="id" title="var">H_gt</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortGtSpec"><span class="id" title="lemma">foldWithAbortGtSpec</span></a> <span class="id" title="var">A</span> <span class="id" title="var">i</span> <span class="id" title="var">i</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>); <span class="id" title="tactic">eauto</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#eq_equivalence"><span class="id" title="instance">eq_equivalence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">st1</span> <span class="id" title="var">st2</span> <span class="id" title="var">e</span> <span class="id" title="var">H_in</span> → //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_do_greater</span> <span class="id" title="var">st'</span> <span class="id" title="var">e2</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">H_gt</span> <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_do_greater</span> <span class="id" title="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="HasFoldWithAbortOps.foldWithAbortSpec_Equal" class="idref" href="#HasFoldWithAbortOps.foldWithAbortSpec_Equal"><span class="id" title="lemma">foldWithAbortSpec_Equal</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:201" class="idref" href="#A:201"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="i:202" class="idref" href="#i:202"><span class="id" title="binder">i</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:201"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:203" class="idref" href="#f:203"><span class="id" title="binder">f</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:201"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:201"><span class="id" title="variable">A</span></a>) (<a id="f':204" class="idref" href="#f':204"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:201"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:201"><span class="id" title="variable">A</span></a>) (<a id="f_abort:205" class="idref" href="#f_abort:205"><span class="id" title="binder">f_abort</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:201"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="s:206" class="idref" href="#s:206"><span class="id" title="binder">s</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.t"><span class="id" title="axiom">t</span></a>),<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:207" class="idref" href="#e:207"><span class="id" title="binder">e</span></a> <a id="st:208" class="idref" href="#st:208"><span class="id" title="binder">st</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:207"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:206"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:203"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:207"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:208"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':204"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:207"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:208"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>       <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:209" class="idref" href="#e1:209"><span class="id" title="binder">e1</span></a> <a id="st:210" class="idref" href="#st:210"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:209"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:206"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_abort:205"><span class="id" title="variable">f_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:209"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:210"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e2:211" class="idref" href="#e2:211"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:211"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:206"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:209"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:211"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:203"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:211"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:210"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:210"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbort"><span class="id" title="definition">foldWithAbort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:203"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_abort:205"><span class="id" title="variable">f_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:206"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:202"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':204"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:206"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:202"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">i</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f_abort</span> <span class="id" title="var">s</span> <span class="id" title="var">H_f'</span> <span class="id" title="var">H_abort</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortSpec"><span class="id" title="lemma">foldWithAbortSpec</span></a> <span class="id" title="var">A</span> <span class="id" title="var">i</span> <span class="id" title="var">i</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>); <span class="id" title="tactic">eauto</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#eq_equivalence"><span class="id" title="instance">eq_equivalence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">st1</span> <span class="id" title="var">st2</span> <span class="id" title="var">e</span> <span class="id" title="var">H_in</span> → //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_do_abort</span> <span class="id" title="var">st'</span> <span class="id" title="var">e2</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">H_abort</span> <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_do_abort</span> <span class="id" title="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab7"></a><h3 class="section">FoldWithAbortSpecArgs</h3>

<div class="paragraph"> </div>

 While folding, we are often interested in skipping elements that do not
      satisfy a certain property <span class="inlinecode"><span class="id" title="var">P</span></span>. This needs expressing in terms of
      skips of smaller of larger elements in order to be done efficiently by
      our folding functions. Formally, this leads to the definition
      of <span class="inlinecode"><span class="id" title="var">foldWithAbortSpecForPred</span></span>. 

<div class="paragraph"> </div>

      Given a <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.FoldWithAbortSpecArg"><span class="id" title="record">FoldWithAbortSpecArg</span></a></span> for a predicate <span class="inlinecode"><span class="id" title="var">P</span></span> and a
      set <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.s"><span class="id" title="variable">s</span></a></span>, many operations can be implemented efficiently. Below we will provide
      efficient versions of <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetListWithDups.html#Ops.filter"><span class="id" title="definition">filter</span></a></span>, <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetListWithDups.html#Ops.choose"><span class="id" title="definition">choose</span></a></span>, <span class="inlinecode"><span class="id" title="tactic">∃</span></span>, <span class="inlinecode"><span class="id" title="keyword">∀</span></span> and more.
    
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="HasFoldWithAbortOps.FoldWithAbortSpecArg" class="idref" href="#HasFoldWithAbortOps.FoldWithAbortSpecArg"><span class="id" title="record">FoldWithAbortSpecArg</span></a> {<a id="B:212" class="idref" href="#B:212"><span class="id" title="binder">B</span></a>} := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="HasFoldWithAbortOps.fwasa_f_pre" class="idref" href="#HasFoldWithAbortOps.fwasa_f_pre"><span class="id" title="projection">fwasa_f_pre</span></a> : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:212"><span class="id" title="variable">B</span></a>);         </div>

<div class="doc">
The precompute function 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="HasFoldWithAbortOps.fwasa_f_lt" class="idref" href="#HasFoldWithAbortOps.fwasa_f_lt"><span class="id" title="projection">fwasa_f_lt</span></a>  : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:212"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>); </div>

<div class="doc">
f_lt without state argument 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="HasFoldWithAbortOps.fwasa_f_gt" class="idref" href="#HasFoldWithAbortOps.fwasa_f_gt"><span class="id" title="projection">fwasa_f_gt</span></a>  : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:212"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>); </div>

<div class="doc">
f_gt without state argument 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="HasFoldWithAbortOps.fwasa_P'" class="idref" href="#HasFoldWithAbortOps.fwasa_P'"><span class="id" title="projection">fwasa_P'</span></a>    : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:212"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)  </div>

<div class="doc">
the predicate P 
</div>
<div class="code">
&nbsp;&nbsp;}.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">foldWithAbortSpecForPred</span></span> <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.s"><span class="id" title="variable">s</span></a></span> <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">fwasa</span></span> holds, if
      the argument <span class="inlinecode"><span class="id" title="var">fwasa</span></span> fits the predicate <span class="inlinecode"><span class="id" title="var">P</span></span> for set <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.s"><span class="id" title="variable">s</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="HasFoldWithAbortOps.foldWithAbortSpecArgsForPred" class="idref" href="#HasFoldWithAbortOps.foldWithAbortSpecArgsForPred"><span class="id" title="definition">foldWithAbortSpecArgsForPred</span></a> {<a id="A:218" class="idref" href="#A:218"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:219" class="idref" href="#s:219"><span class="id" title="binder">s</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.t"><span class="id" title="axiom">t</span></a>) (<a id="P:220" class="idref" href="#P:220"><span class="id" title="binder">P</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="fwasa:221" class="idref" href="#fwasa:221"><span class="id" title="binder">fwasa</span></a> : @<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.FoldWithAbortSpecArg"><span class="id" title="record">FoldWithAbortSpecArg</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:218"><span class="id" title="variable">A</span></a>) :=<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
the predicate <span class="inlinecode"><span class="id" title="var">P'</span></span> coincides for <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups.Spec.s"><span class="id" title="variable">s</span></a></span> and the given precomputation with <span class="inlinecode"><span class="id" title="var">P</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:222" class="idref" href="#e:222"><span class="id" title="binder">e</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:222"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:219"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_P'"><span class="id" title="projection">fwasa_P'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:221"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:222"><span class="id" title="variable">e</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_pre"><span class="id" title="projection">fwasa_f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:221"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:222"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:220"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:222"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_lt"><span class="id" title="projection">fwasa_f_lt</span></a></span> holds, all elements smaller than the current one
         don't satisfy predicate P. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:223" class="idref" href="#e1:223"><span class="id" title="binder">e1</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:223"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:219"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_lt"><span class="id" title="projection">fwasa_f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:221"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:223"><span class="id" title="variable">e1</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_pre"><span class="id" title="projection">fwasa_f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:221"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:223"><span class="id" title="variable">e1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e2:224" class="idref" href="#e2:224"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:224"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:219"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:224"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:223"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:220"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:224"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_gt"><span class="id" title="projection">fwasa_f_gt</span></a></span> holds, all elements greater than the current one
         don't satisfy predicate P. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:225" class="idref" href="#e1:225"><span class="id" title="binder">e1</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:225"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:219"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_gt"><span class="id" title="projection">fwasa_f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:221"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:225"><span class="id" title="variable">e1</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_pre"><span class="id" title="projection">fwasa_f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:221"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:225"><span class="id" title="variable">e1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e2:226" class="idref" href="#e2:226"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:226"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:219"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:225"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:226"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:220"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:226"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a id="lab8"></a><h3 class="section">Filter with abort</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="HasFoldWithAbortOps.filter_with_abort" class="idref" href="#HasFoldWithAbortOps.filter_with_abort"><span class="id" title="definition">filter_with_abort</span></a> {<a id="B:227" class="idref" href="#B:227"><span class="id" title="binder">B</span></a>} (<a id="fwasa:228" class="idref" href="#fwasa:228"><span class="id" title="binder">fwasa</span></a> : @<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.FoldWithAbortSpecArg"><span class="id" title="record">FoldWithAbortSpecArg</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:227"><span class="id" title="variable">B</span></a>) <a id="s:229" class="idref" href="#s:229"><span class="id" title="binder">s</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#FT.foldWithAbortPrecompute"><span class="id" title="axiom">foldWithAbortPrecompute</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:227"><span class="id" title="variable">B</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_pre"><span class="id" title="projection">fwasa_f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:228"><span class="id" title="variable">fwasa</span></a>) (<span class="id" title="keyword">fun</span> <a id="e:230" class="idref" href="#e:230"><span class="id" title="binder">e</span></a> <a id="p:231" class="idref" href="#p:231"><span class="id" title="binder">p</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_lt"><span class="id" title="projection">fwasa_f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:228"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:230"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#p:231"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="e:232" class="idref" href="#e:232"><span class="id" title="binder">e</span></a> <a id="e_pre:233" class="idref" href="#e_pre:233"><span class="id" title="binder">e_pre</span></a> <a id="s:234" class="idref" href="#s:234"><span class="id" title="binder">s</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_P'"><span class="id" title="projection">fwasa_P'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:228"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:232"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e_pre:233"><span class="id" title="variable">e_pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:232"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:234"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:234"><span class="id" title="variable">s</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="e:235" class="idref" href="#e:235"><span class="id" title="binder">e</span></a> <a id="p:236" class="idref" href="#p:236"><span class="id" title="binder">p</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_gt"><span class="id" title="projection">fwasa_f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:228"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:235"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#p:236"><span class="id" title="variable">p</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:229"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.empty"><span class="id" title="axiom">empty</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="HasFoldWithAbortOps.filter_with_abort_spec" class="idref" href="#HasFoldWithAbortOps.filter_with_abort_spec"><span class="id" title="lemma">filter_with_abort_spec</span></a> {<a id="B:237" class="idref" href="#B:237"><span class="id" title="binder">B</span></a>} : <span class="id" title="keyword">∀</span> <a id="fwasa:238" class="idref" href="#fwasa:238"><span class="id" title="binder">fwasa</span></a> <a id="P:239" class="idref" href="#P:239"><span class="id" title="binder">P</span></a> <a id="s:240" class="idref" href="#s:240"><span class="id" title="binder">s</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortSpecArgsForPred"><span class="id" title="definition">foldWithAbortSpecArgsForPred</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:237"><span class="id" title="variable">B</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:239"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:238"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.eq"><span class="id" title="axiom">E.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:239"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.Equal"><span class="id" title="definition">Equal</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.filter_with_abort"><span class="id" title="definition">filter_with_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:238"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:240"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.filter"><span class="id" title="axiom">filter</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:239"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:240"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortSpecArgsForPred"><span class="id" title="definition">foldWithAbortSpecArgsForPred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [] <span class="id" title="var">f_pre</span> <span class="id" title="var">f_lt</span> <span class="id" title="var">f_gt</span> <span class="id" title="var">P'</span> <span class="id" title="var">P</span> <span class="id" title="var">s</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">H_f'</span>] [<span class="id" title="var">H_lt</span>] <span class="id" title="var">H_gt</span> <span class="id" title="var">H_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.filter_with_abort"><span class="id" title="definition">filter_with_abort</span></a> /=.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> → : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#FT.foldWithAbortPrecompute"><span class="id" title="axiom">foldWithAbortPrecompute</span></a> <span class="id" title="var">f_pre</span> (<span class="id" title="keyword">fun</span> <a id="e:246" class="idref" href="#e:246"><span class="id" title="binder">e</span></a> <a id="p:247" class="idref" href="#p:247"><span class="id" title="binder">p</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">f_lt</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:246"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#p:247"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="e:243" class="idref" href="#e:243"><span class="id" title="binder">e</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a>) (<a id="e_pre:244" class="idref" href="#e_pre:244"><span class="id" title="binder">e_pre</span></a> : <span class="id" title="var">B</span>) (<a id="s0:245" class="idref" href="#s0:245"><span class="id" title="binder">s0</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.t"><span class="id" title="axiom">t</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">P'</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:243"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e_pre:244"><span class="id" title="variable">e_pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:243"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s0:245"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s0:245"><span class="id" title="variable">s0</span></a>) (<span class="id" title="keyword">fun</span> <a id="e:241" class="idref" href="#e:241"><span class="id" title="binder">e</span></a> <a id="p:242" class="idref" href="#p:242"><span class="id" title="binder">p</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">f_gt</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:241"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#p:242"><span class="id" title="variable">p</span></a>) <span class="id" title="var">s</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.fold"><span class="id" title="axiom">fold</span></a> (<span class="id" title="keyword">fun</span> <a id="e:248" class="idref" href="#e:248"><span class="id" title="binder">e</span></a> <a id="s0:249" class="idref" href="#s0:249"><span class="id" title="binder">s0</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">P</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:248"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:248"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s0:249"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s0:249"><span class="id" title="variable">s0</span></a>) <span class="id" title="var">s</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.empty"><span class="id" title="axiom">empty</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortPrecomputeSpec_Equal"><span class="id" title="lemma">foldWithAbortPrecomputeSpec_Equal</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H_f'</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_f_lt_eq</span> <span class="id" title="var">e2</span> <span class="id" title="var">H_e2_in</span> <span class="id" title="var">H_lt_e2_e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H_f'</span> <span class="id" title="var">_</span> <span class="id" title="var">H_e2_in</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span> → : (<span class="id" title="var">P</span> <span class="id" title="var">e2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H_lt</span> <span class="id" title="var">e1</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e1</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_f_gt_eq</span> <span class="id" title="var">e2</span> <span class="id" title="var">H_e2_in</span> <span class="id" title="var">H_gt_e2_e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H_f'</span> <span class="id" title="var">_</span> <span class="id" title="var">H_e2_in</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span> → : (<span class="id" title="var">P</span> <span class="id" title="var">e2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H_gt</span> <span class="id" title="var">e1</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.Equal"><span class="id" title="definition">Equal</span></a> ⇒ <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.fold_spec"><span class="id" title="axiom">fold_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.filter_spec"><span class="id" title="axiom">filter_spec</span></a> ⇒ //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span> → : <span class="id" title="keyword">∀</span> <a id="acc:250" class="idref" href="#acc:250"><span class="id" title="binder">acc</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> (<span class="id" title="keyword">fun</span> (<a id="e0:251" class="idref" href="#e0:251"><span class="id" title="binder">e0</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a>) (<a id="s0:252" class="idref" href="#s0:252"><span class="id" title="binder">s0</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.t"><span class="id" title="axiom">t</span></a>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">P</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e0:251"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e0:251"><span class="id" title="variable">e0</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s0:252"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s0:252"><span class="id" title="variable">s0</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elements"><span class="id" title="axiom">elements</span></a> <span class="id" title="var">s</span>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:250"><span class="id" title="variable">acc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.eq"><span class="id" title="axiom">E.eq</span></a> <span class="id" title="var">e</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elements"><span class="id" title="axiom">elements</span></a> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">P</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <span class="id" title="var">e</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:250"><span class="id" title="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elements_spec1"><span class="id" title="axiom">elements_spec1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span> : (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <span class="id" title="var">e</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.empty"><span class="id" title="axiom">empty</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.empty_spec"><span class="id" title="axiom">empty_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elements"><span class="id" title="axiom">elements</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">IH</span>] ⇒ <span class="id" title="var">acc</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_nil"><span class="id" title="lemma">InA_nil</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <span class="id" title="var">IH</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.add_spec"><span class="id" title="axiom">add_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence_Reflexive"><span class="id" title="method">Equivalence_Reflexive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab9"></a><h3 class="section">Choose with abort</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="HasFoldWithAbortOps.choose_with_abort" class="idref" href="#HasFoldWithAbortOps.choose_with_abort"><span class="id" title="definition">choose_with_abort</span></a> {<a id="B:253" class="idref" href="#B:253"><span class="id" title="binder">B</span></a>} (<a id="fwasa:254" class="idref" href="#fwasa:254"><span class="id" title="binder">fwasa</span></a> : @<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.FoldWithAbortSpecArg"><span class="id" title="record">FoldWithAbortSpecArg</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:253"><span class="id" title="variable">B</span></a>) <a id="s:255" class="idref" href="#s:255"><span class="id" title="binder">s</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#FT.foldWithAbortPrecompute"><span class="id" title="axiom">foldWithAbortPrecompute</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_pre"><span class="id" title="projection">fwasa_f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:254"><span class="id" title="variable">fwasa</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="e:264" class="idref" href="#e:264"><span class="id" title="binder">e</span></a> <a id="p:265" class="idref" href="#p:265"><span class="id" title="binder">p</span></a> <a id="st:266" class="idref" href="#st:266"><span class="id" title="binder">st</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:266"><span class="id" title="variable">st</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_lt"><span class="id" title="projection">fwasa_f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:254"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:264"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#p:265"><span class="id" title="variable">p</span></a>) | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="e:260" class="idref" href="#e:260"><span class="id" title="binder">e</span></a> <a id="e_pre:261" class="idref" href="#e_pre:261"><span class="id" title="binder">e_pre</span></a> <a id="st:262" class="idref" href="#st:262"><span class="id" title="binder">st</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:262"><span class="id" title="variable">st</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_P'"><span class="id" title="projection">fwasa_P'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:254"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:260"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e_pre:261"><span class="id" title="variable">e_pre</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:260"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:262"><span class="id" title="variable">st</span></a> <span class="id" title="keyword">end</span>) <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="e:256" class="idref" href="#e:256"><span class="id" title="binder">e</span></a> <a id="p:257" class="idref" href="#p:257"><span class="id" title="binder">p</span></a> <a id="st:258" class="idref" href="#st:258"><span class="id" title="binder">st</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:258"><span class="id" title="variable">st</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_gt"><span class="id" title="projection">fwasa_f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:254"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:256"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#p:257"><span class="id" title="variable">p</span></a>) | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:255"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="HasFoldWithAbortOps.choose_with_abort_spec" class="idref" href="#HasFoldWithAbortOps.choose_with_abort_spec"><span class="id" title="lemma">choose_with_abort_spec</span></a> {<a id="B:268" class="idref" href="#B:268"><span class="id" title="binder">B</span></a>} : <span class="id" title="keyword">∀</span> <a id="fwasa:269" class="idref" href="#fwasa:269"><span class="id" title="binder">fwasa</span></a> <a id="P:270" class="idref" href="#P:270"><span class="id" title="binder">P</span></a> <a id="s:271" class="idref" href="#s:271"><span class="id" title="binder">s</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortSpecArgsForPred"><span class="id" title="definition">foldWithAbortSpecArgsForPred</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:268"><span class="id" title="variable">B</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:271"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:270"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:269"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.eq"><span class="id" title="axiom">E.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:270"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">match</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.choose_with_abort"><span class="id" title="definition">choose_with_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:269"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:271"><span class="id" title="variable">s</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ (<span class="id" title="keyword">∀</span> <a id="e:272" class="idref" href="#e:272"><span class="id" title="binder">e</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:272"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:271"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:270"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:272"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e</span> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.In"><span class="id" title="axiom">In</span></a> <span class="id" title="var">e</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:271"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:270"><span class="id" title="variable">P</span></a> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortSpecArgsForPred"><span class="id" title="definition">foldWithAbortSpecArgsForPred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [] <span class="id" title="var">f_pre</span> <span class="id" title="var">f_lt</span> <span class="id" title="var">f_gt</span> <span class="id" title="var">P'</span> <span class="id" title="var">P</span> <span class="id" title="var">s</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">H_f'</span>] [<span class="id" title="var">H_lt</span>] <span class="id" title="var">H_gt</span> <span class="id" title="var">H_proper</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">fwasa</span> := {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_pre"><span class="id" title="projection">fwasa_f_pre</span></a> := <span class="id" title="var">f_pre</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_lt"><span class="id" title="projection">fwasa_f_lt</span></a> := <span class="id" title="var">f_lt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_f_gt"><span class="id" title="projection">fwasa_f_gt</span></a> := <span class="id" title="var">f_gt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.fwasa_P'"><span class="id" title="projection">fwasa_P'</span></a> := <span class="id" title="var">P'</span> |}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span> : (<span class="id" title="keyword">match</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.choose_with_abort"><span class="id" title="definition">choose_with_abort</span></a> <span class="id" title="var">fwasa</span> <span class="id" title="var">s</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ (<span class="id" title="keyword">∀</span> <a id="e:273" class="idref" href="#e:273"><span class="id" title="binder">e</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.eq"><span class="id" title="axiom">E.eq</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:273"><span class="id" title="variable">e</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elements"><span class="id" title="axiom">elements</span></a> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">P</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:273"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.eq"><span class="id" title="axiom">E.eq</span></a> <span class="id" title="var">e</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elements"><span class="id" title="axiom">elements</span></a> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="var">P</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.choose_with_abort"><span class="id" title="definition">choose_with_abort</span></a> <span class="id" title="var">fwasa</span> <span class="id" title="var">s</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elements_spec1"><span class="id" title="axiom">elements_spec1</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H</span> <span class="id" title="var">e</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elements_spec1"><span class="id" title="axiom">elements_spec1</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> → : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.choose_with_abort"><span class="id" title="definition">choose_with_abort</span></a> <span class="id" title="var">fwasa</span> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.fold"><span class="id" title="axiom">fold</span></a> (<span class="id" title="keyword">fun</span> <a id="e:274" class="idref" href="#e:274"><span class="id" title="binder">e</span></a> <a id="st:275" class="idref" href="#st:275"><span class="id" title="binder">st</span></a> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:275"><span class="id" title="variable">st</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">P</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:274"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:274"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:275"><span class="id" title="variable">st</span></a> <span class="id" title="keyword">end</span>) <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortPrecomputeSpec_Equal"><span class="id" title="lemma">foldWithAbortPrecomputeSpec_Equal</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">st</span> <span class="id" title="var">H_e_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">st</span> ⇒ //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H_f'</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e1</span> [] //= <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_f_lt_eq</span> <span class="id" title="var">e2</span> <span class="id" title="var">H_e2_in</span> <span class="id" title="var">H_lt_e2_e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H_f'</span> <span class="id" title="var">_</span> <span class="id" title="var">H_e2_in</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">P</span> <span class="id" title="var">e2</span>) ⇒ // <span class="id" title="var">H_P_e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">H_P_e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#not_true_iff_false"><span class="id" title="lemma">not_true_iff_false</span></a>, (<span class="id" title="var">H_lt</span> <span class="id" title="var">e1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e1</span> [] //= <span class="id" title="var">H_e1_in</span> <span class="id" title="var">H_f_gt_eq</span> <span class="id" title="var">e2</span> <span class="id" title="var">H_e2_in</span> <span class="id" title="var">H_gt_e2_e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H_f'</span> <span class="id" title="var">_</span> <span class="id" title="var">H_e2_in</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">P</span> <span class="id" title="var">e2</span>) ⇒ // <span class="id" title="var">H_P_e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">H_P_e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#not_true_iff_false"><span class="id" title="lemma">not_true_iff_false</span></a>, (<span class="id" title="var">H_gt</span> <span class="id" title="var">e1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.fold_spec"><span class="id" title="axiom">fold_spec</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elements"><span class="id" title="axiom">elements</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">IH</span>]. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_nil"><span class="id" title="lemma">InA_nil</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) ⇒ <span class="id" title="var">H_Px</span>; <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">H_Px</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> → : <span class="id" title="keyword">∀</span> <a id="xs:277" class="idref" href="#xs:277"><span class="id" title="binder">xs</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> (<a id="x0:278" class="idref" href="#x0:278"><span class="id" title="binder">x0</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a>) (<a id="y:279" class="idref" href="#y:279"><span class="id" title="binder">y</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#x0:278"><span class="id" title="variable">x0</span></a> <span class="id" title="keyword">with</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#x0:278"><span class="id" title="variable">x0</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">P</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#y:279"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#y:279"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#xs:277"><span class="id" title="variable">xs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">ys</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ys</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_hd"><span class="id" title="constructor">InA_cons_hd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.eq_equiv"><span class="id" title="axiom">E.eq_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="x0:284" class="idref" href="#x0:284"><span class="id" title="binder">x0</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a>) (<a id="y:285" class="idref" href="#y:285"><span class="id" title="binder">y</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.elt"><span class="id" title="definition">elt</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#x0:281"><span class="id" title="variable">x0</span></a> <span class="id" title="keyword">with</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#x0:281"><span class="id" title="variable">x0</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">P</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#y:282"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#y:282"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <span class="id" title="var">xs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>). {<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e</span> [<span class="id" title="var">H_e_in</span>] <span class="id" title="var">H_Pe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_tl"><span class="id" title="constructor">InA_cons_tl</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_e_nin</span> <span class="id" title="var">e</span> <span class="id" title="var">H_e_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> : (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.eq"><span class="id" title="axiom">E.eq</span></a> <span class="id" title="var">e</span> <span class="id" title="var">xs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.eq"><span class="id" title="axiom">E.eq</span></a> <span class="id" title="var">e</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H_e_in</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ []. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_e_nin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ → //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab10"></a><h3 class="section">Exists and Forall with abort</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="HasFoldWithAbortOps.exists_with_abort" class="idref" href="#HasFoldWithAbortOps.exists_with_abort"><span class="id" title="definition">exists_with_abort</span></a> {<a id="B:287" class="idref" href="#B:287"><span class="id" title="binder">B</span></a>} (<a id="fwasa:288" class="idref" href="#fwasa:288"><span class="id" title="binder">fwasa</span></a> : @<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.FoldWithAbortSpecArg"><span class="id" title="record">FoldWithAbortSpecArg</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:287"><span class="id" title="variable">B</span></a>) <a id="s:289" class="idref" href="#s:289"><span class="id" title="binder">s</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.choose_with_abort"><span class="id" title="definition">choose_with_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:288"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:289"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="HasFoldWithAbortOps.exists_with_abort_spec" class="idref" href="#HasFoldWithAbortOps.exists_with_abort_spec"><span class="id" title="lemma">exists_with_abort_spec</span></a> {<a id="B:290" class="idref" href="#B:290"><span class="id" title="binder">B</span></a>} : <span class="id" title="keyword">∀</span> <a id="fwasa:291" class="idref" href="#fwasa:291"><span class="id" title="binder">fwasa</span></a> <a id="P:292" class="idref" href="#P:292"><span class="id" title="binder">P</span></a> <a id="s:293" class="idref" href="#s:293"><span class="id" title="binder">s</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortSpecArgsForPred"><span class="id" title="definition">foldWithAbortSpecArgsForPred</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:290"><span class="id" title="variable">B</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:293"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:292"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:291"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.eq"><span class="id" title="axiom">E.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:292"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.exists_with_abort"><span class="id" title="definition">exists_with_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:291"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:293"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.exists_"><span class="id" title="axiom">exists_</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:292"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:293"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">fwasa</span> <span class="id" title="var">P</span> <span class="id" title="var">s</span> <span class="id" title="var">H_fwasa</span> <span class="id" title="var">H_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">Logic.eq_sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.exists_with_abort"><span class="id" title="definition">exists_with_abort</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.choose_with_abort_spec"><span class="id" title="lemma">choose_with_abort_spec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H_fwasa</span> <span class="id" title="var">H_proper</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.choose_with_abort"><span class="id" title="definition">choose_with_abort</span></a> <span class="id" title="var">fwasa</span> <span class="id" title="var">s</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">e</span> [<span class="id" title="var">H_e_in</span>] <span class="id" title="var">H_Pe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.exists_spec"><span class="id" title="axiom">exists_spec</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.Exists"><span class="id" title="definition">Exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_not_ex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#not_true_iff_false"><span class="id" title="lemma">not_true_iff_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.exists_spec"><span class="id" title="axiom">exists_spec</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.Exists"><span class="id" title="definition">Exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">e</span>] [<span class="id" title="var">H_in</span>] <span class="id" title="var">H_pe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">H_not_ex</span> <span class="id" title="var">e</span> <span class="id" title="var">H_in</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H_pe</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Negation leads to forall. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="HasFoldWithAbortOps.forall_with_abort" class="idref" href="#HasFoldWithAbortOps.forall_with_abort"><span class="id" title="definition">forall_with_abort</span></a> {<a id="B:294" class="idref" href="#B:294"><span class="id" title="binder">B</span></a>} <a id="fwasa:295" class="idref" href="#fwasa:295"><span class="id" title="binder">fwasa</span></a> <a id="s:296" class="idref" href="#s:296"><span class="id" title="binder">s</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.exists_with_abort"><span class="id" title="definition">exists_with_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:294"><span class="id" title="variable">B</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:295"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:296"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="HasFoldWithAbortOps.forall_with_abort_spec" class="idref" href="#HasFoldWithAbortOps.forall_with_abort_spec"><span class="id" title="lemma">forall_with_abort_spec</span></a> {<a id="B:297" class="idref" href="#B:297"><span class="id" title="binder">B</span></a>} : <span class="id" title="keyword">∀</span> <a id="fwasa:298" class="idref" href="#fwasa:298"><span class="id" title="binder">fwasa</span></a> <a id="s:299" class="idref" href="#s:299"><span class="id" title="binder">s</span></a> <a id="P:300" class="idref" href="#P:300"><span class="id" title="binder">P</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.foldWithAbortSpecArgsForPred"><span class="id" title="definition">foldWithAbortSpecArgsForPred</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:297"><span class="id" title="variable">B</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:299"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:300"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:298"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.eq"><span class="id" title="axiom">E.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:300"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.forall_with_abort"><span class="id" title="definition">forall_with_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#fwasa:298"><span class="id" title="variable">fwasa</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:299"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.for_all"><span class="id" title="axiom">for_all</span></a> (<span class="id" title="keyword">fun</span> <a id="e:301" class="idref" href="#e:301"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:300"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:301"><span class="id" title="variable">e</span></a>)) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:299"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">fwasa</span> <span class="id" title="var">s</span> <span class="id" title="var">P</span> <span class="id" title="var">H_ok</span> <span class="id" title="var">H_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.forall_with_abort"><span class="id" title="definition">forall_with_abort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps.exists_with_abort_spec"><span class="id" title="lemma">exists_with_abort_spec</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#eq_iff_eq_true"><span class="id" title="lemma">eq_iff_eq_true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#not_true_iff_false"><span class="id" title="lemma">not_true_iff_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.exists_spec"><span class="id" title="axiom">exists_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.for_all_spec"><span class="id" title="axiom">for_all_spec</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">solve_proper</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.Exists"><span class="id" title="definition">Exists</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#C.For_all"><span class="id" title="definition">For_all</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_pre</span> <span class="id" title="var">x</span> <span class="id" title="var">H_x_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#not_true_iff_false"><span class="id" title="lemma">not_true_iff_false</span></a> ⇒ <span class="id" title="var">H_Px</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_pre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_pre</span> [<span class="id" title="var">x</span>] [<span class="id" title="var">H_x_in</span>] <span class="id" title="var">H_P_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">H_pre</span> <span class="id" title="var">x</span> <span class="id" title="var">H_x_in</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H_P_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps"><span class="id" title="module">HasFoldWithAbortOps</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab11"></a><h2 class="section">Modules Types For Sets with Fold with Abort</h2>

</div>
<div class="code">
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="WSetsWithDupsFoldA" class="idref" href="#WSetsWithDupsFoldA"><span class="id" title="module">WSetsWithDupsFoldA</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Declare Module</span> <a id="WSetsWithDupsFoldA.E" class="idref" href="#WSetsWithDupsFoldA.E"><span class="id" title="module">E</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetWithDups.html#WSetsOnWithDups"><span class="id" title="module">WSetsOnWithDups</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#WSetsWithDupsFoldA.E"><span class="id" title="module">E</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbort"><span class="id" title="module">HasFoldWithAbort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#WSetsWithDupsFoldA.E"><span class="id" title="module">E</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps"><span class="id" title="module">HasFoldWithAbortOps</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#WSetsWithDupsFoldA.E"><span class="id" title="module">E</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#WSetsWithDupsFoldA"><span class="id" title="module">WSetsWithDupsFoldA</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="WSetsWithFoldA" class="idref" href="#WSetsWithFoldA"><span class="id" title="module">WSetsWithFoldA</span></a> &lt;: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetInterface.html#WSets"><span class="id" title="module">WSets</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Declare Module</span> <a id="WSetsWithFoldA.E" class="idref" href="#WSetsWithFoldA.E"><span class="id" title="module">E</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetInterface.html#WSetsOn"><span class="id" title="module">WSetsOn</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#WSetsWithFoldA.E"><span class="id" title="module">E</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbort"><span class="id" title="module">HasFoldWithAbort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#WSetsWithFoldA.E"><span class="id" title="module">E</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps"><span class="id" title="module">HasFoldWithAbortOps</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#WSetsWithFoldA.E"><span class="id" title="module">E</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#WSetsWithFoldA"><span class="id" title="module">WSetsWithFoldA</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="SetsWithFoldA" class="idref" href="#SetsWithFoldA"><span class="id" title="module">SetsWithFoldA</span></a> &lt;: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetInterface.html#Sets"><span class="id" title="module">Sets</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Declare Module</span> <a id="SetsWithFoldA.E" class="idref" href="#SetsWithFoldA.E"><span class="id" title="module">E</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetInterface.html#SetsOn"><span class="id" title="module">SetsOn</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#SetsWithFoldA.E"><span class="id" title="module">E</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbort"><span class="id" title="module">HasFoldWithAbort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#SetsWithFoldA.E"><span class="id" title="module">E</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps"><span class="id" title="module">HasFoldWithAbortOps</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#SetsWithFoldA.E"><span class="id" title="module">E</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#SetsWithFoldA"><span class="id" title="module">SetsWithFoldA</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab12"></a><h2 class="section">Implementations</h2>

<div class="paragraph"> </div>

<a id="lab13"></a><h3 class="section">GenTree implementation</h3>

    Finally, provide such a fold with abort operation for generic trees. 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="MakeGenTreeFoldA" class="idref" href="#MakeGenTreeFoldA"><span class="id" title="module">MakeGenTreeFoldA</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">E</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>) (<span class="id" title="keyword">Import</span> <span class="id" title="var">I</span>:<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetGenTree.html#InfoTyp"><span class="id" title="module">InfoTyp</span></a>) <br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">Raw</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetGenTree.html#Ops"><span class="id" title="module">MSetGenTree.Ops</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E"><span class="id" title="module">E</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#I"><span class="id" title="module">I</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">M</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetGenTree.html#Props"><span class="id" title="module">MSetGenTree.Props</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E"><span class="id" title="module">E</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#I"><span class="id" title="module">I</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#Raw"><span class="id" title="module">Raw</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="MakeGenTreeFoldA.foldWithAbort_Raw" class="idref" href="#MakeGenTreeFoldA.foldWithAbort_Raw"><span class="id" title="definition">foldWithAbort_Raw</span></a> {<a id="A:302" class="idref" href="#A:302"><span class="id" title="binder">A</span></a> <a id="B:303" class="idref" href="#B:303"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} (<a id="f_pre:304" class="idref" href="#f_pre:304"><span class="id" title="binder">f_pre</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.t"><span class="id" title="axiom">E.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:303"><span class="id" title="variable">B</span></a>) <a id="f_lt:305" class="idref" href="#f_lt:305"><span class="id" title="binder">f_lt</span></a> (<a id="f:306" class="idref" href="#f:306"><span class="id" title="binder">f</span></a>: <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.t"><span class="id" title="axiom">E.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:303"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:302"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:302"><span class="id" title="variable">A</span></a>) <a id="f_gt:307" class="idref" href="#f_gt:307"><span class="id" title="binder">f_gt</span></a> <a id="t:308" class="idref" href="#t:308"><span class="id" title="binder">t</span></a> (<a id="base:309" class="idref" href="#base:309"><span class="id" title="binder">base</span></a>: <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:302"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:302"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:308"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#Raw.Leaf"><span class="id" title="constructor">Raw.Leaf</span></a> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#base:309"><span class="id" title="variable">base</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#Raw.Node"><span class="id" title="constructor">Raw.Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">r</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="x_pre:312" class="idref" href="#x_pre:312"><span class="id" title="binder">x_pre</span></a> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:304"><span class="id" title="variable">f_pre</span></a> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="st0:313" class="idref" href="#st0:313"><span class="id" title="binder">st0</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:305"><span class="id" title="variable">f_lt</span></a> <span class="id" title="var">x</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#x_pre:312"><span class="id" title="variable">x_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#base:309"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#base:309"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbort_Raw:310"><span class="id" title="definition">foldWithAbort_Raw</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:304"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:305"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:306"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:307"><span class="id" title="variable">f_gt</span></a> <span class="id" title="var">l</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#base:309"><span class="id" title="variable">base</span></a> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="st1:314" class="idref" href="#st1:314"><span class="id" title="binder">st1</span></a> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:306"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#x_pre:312"><span class="id" title="variable">x_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st0:313"><span class="id" title="variable">st0</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="st2:315" class="idref" href="#st2:315"><span class="id" title="binder">st2</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:307"><span class="id" title="variable">f_gt</span></a> <span class="id" title="var">x</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#x_pre:312"><span class="id" title="variable">x_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st1:314"><span class="id" title="variable">st1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st1:314"><span class="id" title="variable">st1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbort_Raw:310"><span class="id" title="definition">foldWithAbort_Raw</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:304"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:305"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:306"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:307"><span class="id" title="variable">f_gt</span></a> <span class="id" title="var">r</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st1:314"><span class="id" title="variable">st1</span></a> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st2:315"><span class="id" title="variable">st2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="MakeGenTreeFoldA.foldWithAbort_RawSpec" class="idref" href="#MakeGenTreeFoldA.foldWithAbort_RawSpec"><span class="id" title="lemma">foldWithAbort_RawSpec</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:316" class="idref" href="#A:316"><span class="id" title="binder">A</span></a> <a id="B:317" class="idref" href="#B:317"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="i:318" class="idref" href="#i:318"><span class="id" title="binder">i</span></a> <a id="i':319" class="idref" href="#i':319"><span class="id" title="binder">i'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:316"><span class="id" title="variable">A</span></a>) (<a id="f_pre:320" class="idref" href="#f_pre:320"><span class="id" title="binder">f_pre</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.t"><span class="id" title="axiom">E.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:317"><span class="id" title="variable">B</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:321" class="idref" href="#f:321"><span class="id" title="binder">f</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.t"><span class="id" title="axiom">E.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:317"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:316"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:316"><span class="id" title="variable">A</span></a>) (<a id="f':322" class="idref" href="#f':322"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.t"><span class="id" title="axiom">E.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:316"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:316"><span class="id" title="variable">A</span></a>) (<a id="f_lt:323" class="idref" href="#f_lt:323"><span class="id" title="binder">f_lt</span></a> <a id="f_gt:324" class="idref" href="#f_gt:324"><span class="id" title="binder">f_gt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.t"><span class="id" title="axiom">E.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:317"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:316"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="s:325" class="idref" href="#s:325"><span class="id" title="binder">s</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#Raw.tree"><span class="id" title="inductive">Raw.tree</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:326" class="idref" href="#P:326"><span class="id" title="binder">P</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:316"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:316"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.bst"><span class="id" title="inductive">M.bst</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:325"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:326"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st:327" class="idref" href="#st:327"><span class="id" title="binder">st</span></a> <a id="st':328" class="idref" href="#st':328"><span class="id" title="binder">st'</span></a> <a id="e:329" class="idref" href="#e:329"><span class="id" title="binder">e</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:329"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:325"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:326"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:327"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':328"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:326"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:321"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:329"><span class="id" title="variable">e</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:320"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:329"><span class="id" title="variable">e</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:327"><span class="id" title="variable">st</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:321"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:329"><span class="id" title="variable">e</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:320"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:329"><span class="id" title="variable">e</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':328"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:330" class="idref" href="#e:330"><span class="id" title="binder">e</span></a> <a id="st:331" class="idref" href="#st:331"><span class="id" title="binder">st</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:330"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:325"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:326"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:321"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:330"><span class="id" title="variable">e</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:320"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:330"><span class="id" title="variable">e</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:331"><span class="id" title="variable">st</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':322"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:330"><span class="id" title="variable">e</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:331"><span class="id" title="variable">st</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>       <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:332" class="idref" href="#e1:332"><span class="id" title="binder">e1</span></a> <a id="st:333" class="idref" href="#st:333"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:332"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:325"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:323"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:332"><span class="id" title="variable">e1</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:320"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:332"><span class="id" title="variable">e1</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:333"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st':334" class="idref" href="#st':334"><span class="id" title="binder">st'</span></a> <a id="e2:335" class="idref" href="#e2:335"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:326"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:333"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':334"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:335"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:325"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:335"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:332"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:326"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:333"><span class="id" title="variable">st</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:321"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:335"><span class="id" title="variable">e2</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:320"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:335"><span class="id" title="variable">e2</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':334"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e1:336" class="idref" href="#e1:336"><span class="id" title="binder">e1</span></a> <a id="st:337" class="idref" href="#st:337"><span class="id" title="binder">st</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:336"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:325"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:324"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:336"><span class="id" title="variable">e1</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:320"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:336"><span class="id" title="variable">e1</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:337"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st':338" class="idref" href="#st':338"><span class="id" title="binder">st'</span></a> <a id="e2:339" class="idref" href="#e2:339"><span class="id" title="binder">e2</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:326"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:337"><span class="id" title="variable">st</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':338"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:339"><span class="id" title="variable">e2</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:325"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e1:336"><span class="id" title="variable">e1</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:339"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:326"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:337"><span class="id" title="variable">st</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:321"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:339"><span class="id" title="variable">e2</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:320"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e2:339"><span class="id" title="variable">e2</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st':338"><span class="id" title="variable">st'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:326"><span class="id" title="variable">P</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:318"><span class="id" title="variable">i</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i':319"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#P:326"><span class="id" title="variable">P</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeGenTreeFoldA.foldWithAbort_Raw"><span class="id" title="definition">foldWithAbort_Raw</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:320"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:323"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:321"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:324"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:325"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i:318"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#Raw.fold"><span class="id" title="definition">fold</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f':322"><span class="id" title="variable">f'</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#s:325"><span class="id" title="variable">s</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#i':319"><span class="id" title="variable">i'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">f_pre</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f_lt</span> <span class="id" title="var">f_gt</span> <span class="id" title="var">s</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_bst</span> <span class="id" title="var">H_equiv_P</span> <span class="id" title="var">H_P_f</span> <span class="id" title="var">H_f'</span> <span class="id" title="var">H_RL</span> <span class="id" title="var">H_RG</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">base</span> := <span class="id" title="var">s</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">i</span> <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> : (<span class="id" title="keyword">∀</span> <a id="e:340" class="idref" href="#e:340"><span class="id" title="binder">e</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:340"><span class="id" title="variable">e</span></a> <span class="id" title="var">base</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:340"><span class="id" title="variable">e</span></a> <span class="id" title="var">s</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> /<span class="id" title="var">base</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.bst"><span class="id" title="inductive">M.bst</span></a> <span class="id" title="var">base</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_bst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">base</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_bst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">base</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> <span class="id" title="var">l</span> <span class="id" title="var">IHl</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">IHr</span>] <span class="id" title="keyword">using</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.tree_ind"><span class="id" title="definition">M.tree_ind</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeGenTreeFoldA.foldWithAbort_Raw"><span class="id" title="definition">foldWithAbort_Raw</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#Raw.fold"><span class="id" title="definition">Raw.fold</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_bst</span> <span class="id" title="var">H_sub</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">H_P_ii'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [<span class="id" title="var">H_bst_l</span> [<span class="id" title="var">H_bst_r</span> [<span class="id" title="var">H_lt_tree_l</span> <span class="id" title="var">H_gt_tree_r</span>]]]: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.bst"><span class="id" title="inductive">M.bst</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.bst"><span class="id" title="inductive">M.bst</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.lt_tree"><span class="id" title="definition">M.lt_tree</span></a> <span class="id" title="var">e</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.gt_tree"><span class="id" title="definition">M.gt_tree</span></a> <span class="id" title="var">e</span> <span class="id" title="var">r</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H_bst</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_sub_l</span> : (<span class="id" title="keyword">∀</span> <a id="e0:341" class="idref" href="#e0:341"><span class="id" title="binder">e0</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.t"><span class="id" title="axiom">E.t</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e0:341"><span class="id" title="variable">e0</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e0:341"><span class="id" title="variable">e0</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e0:341"><span class="id" title="variable">e0</span></a> <span class="id" title="var">e</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e0</span> <span class="id" title="var">H_in_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H_lt_tree_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H_sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In_node_iff"><span class="id" title="lemma">M.In_node_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">IHl</span> <span class="id" title="var">H_bst_l</span>) ⇒ {} <span class="id" title="var">IHl</span> {<span class="id" title="var">H_bst_l</span>} {<span class="id" title="var">H_lt_tree_l</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_sub_r</span> : (<span class="id" title="keyword">∀</span> <a id="e0:342" class="idref" href="#e0:342"><span class="id" title="binder">e0</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.t"><span class="id" title="axiom">E.t</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e0:342"><span class="id" title="variable">e0</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e0:342"><span class="id" title="variable">e0</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <span class="id" title="var">e</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e0:342"><span class="id" title="variable">e0</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e0</span> <span class="id" title="var">H_in_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H_gt_tree_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H_sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In_node_iff"><span class="id" title="lemma">M.In_node_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">IHr</span> <span class="id" title="var">H_bst_r</span>) ⇒ {} <span class="id" title="var">IHr</span> {<span class="id" title="var">H_bst_r</span>} {<span class="id" title="var">H_gt_tree_r</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_in_e</span> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <span class="id" title="var">e</span> <span class="id" title="var">s</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H_sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In_node_iff"><span class="id" title="lemma">M.In_node_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence_Reflexive"><span class="id" title="method">Equivalence_Reflexive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ {<span class="id" title="var">H_sub</span>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">st0</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">f_lt</span> <span class="id" title="var">e</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">e</span>) <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeGenTreeFoldA.foldWithAbort_Raw"><span class="id" title="definition">foldWithAbort_Raw</span></a> <span class="id" title="var">f_pre</span> <span class="id" title="var">f_lt</span> <span class="id" title="var">f</span> <span class="id" title="var">f_gt</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">st0'</span> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#Raw.fold"><span class="id" title="definition">Raw.fold</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">l</span> <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">st1</span> := <span class="id" title="var">f</span> <span class="id" title="var">e</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">e</span>) <span class="id" title="var">st0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">st1'</span> := <span class="id" title="var">f'</span> <span class="id" title="var">e</span> <span class="id" title="var">st0'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">st2</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">f_gt</span> <span class="id" title="var">e</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">e</span>) <span class="id" title="var">st1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">st1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeGenTreeFoldA.foldWithAbort_Raw"><span class="id" title="definition">foldWithAbort_Raw</span></a> <span class="id" title="var">f_pre</span> <span class="id" title="var">f_lt</span> <span class="id" title="var">f</span> <span class="id" title="var">f_gt</span> <span class="id" title="var">r</span> <span class="id" title="var">st1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">st2'</span> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#Raw.fold"><span class="id" title="definition">Raw.fold</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">r</span> <span class="id" title="var">st1'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_P_st0</span> : <span class="id" title="var">P</span> <span class="id" title="var">st0</span> <span class="id" title="var">st0'</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">st0</span> /<span class="id" title="var">st0'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">f_lt</span> <span class="id" title="var">e</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">e</span>) <span class="id" title="var">i</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_fl_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> :  <span class="id" title="var">H_P_ii'</span> <span class="id" title="var">H_sub_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> :  <span class="id" title="var">H_equiv_P</span> <span class="id" title="var">H_f'</span> (<span class="id" title="var">H_RL</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H_in_e</span> <span class="id" title="var">H_fl_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.lt_tree"><span class="id" title="definition">M.lt_tree</span></a>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_equiv_P</span> <span class="id" title="var">H_f'</span> <span class="id" title="var">H_RL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> <span class="id" title="var">l</span> <span class="id" title="var">IHl</span> <span class="id" title="var">e'</span> <span class="id" title="var">r</span> <span class="id" title="var">IHr</span>] <span class="id" title="keyword">using</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.tree_ind"><span class="id" title="definition">M.tree_ind</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span> <span class="id" title="var">H_P_ii'</span> <span class="id" title="var">H_sub_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHr</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">y</span> <span class="id" title="var">H_y_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_sub_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In_node_iff"><span class="id" title="lemma">M.In_node_iff</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [] : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <span class="id" title="var">e'</span> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <span class="id" title="var">e'</span> <span class="id" title="var">e</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_sub_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In_node_iff"><span class="id" title="lemma">M.In_node_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence_Reflexive"><span class="id" title="method">Equivalence_Reflexive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_e'_in</span> <span class="id" title="var">H_lt_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span> <span class="id" title="var">H_P_i</span> : (<span class="id" title="var">P</span> <span class="id" title="var">i</span> (<span class="id" title="var">f</span> <span class="id" title="var">e'</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">e'</span>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#Raw.fold"><span class="id" title="definition">fold</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">l</span> <span class="id" title="var">i'</span>))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence_Transitive"><span class="id" title="method">Equivalence_Transitive</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H_P_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H_f'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H_RL</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">y</span> <span class="id" title="var">H_y_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_sub_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In_node_iff"><span class="id" title="lemma">M.In_node_iff</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H_sub_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_P_st1</span> : <span class="id" title="var">P</span> <span class="id" title="var">st1</span> <span class="id" title="var">st1'</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">st1</span> /<span class="id" title="var">st1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H_f'</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_P_f</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_P_st2</span> : <span class="id" title="var">P</span> <span class="id" title="var">st2</span> <span class="id" title="var">st2'</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">st2</span> /<span class="id" title="var">st2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">st1</span> <span class="id" title="var">st1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">f_gt</span> <span class="id" title="var">e</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">e</span>) <span class="id" title="var">st1</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_gt_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> :  <span class="id" title="var">H_P_st1</span> <span class="id" title="var">H_sub_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">H_equiv_P</span> (<span class="id" title="var">H_RG</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H_in_e</span> <span class="id" title="var">H_gt_eq</span>) <span class="id" title="var">H_f'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.gt_tree"><span class="id" title="definition">M.gt_tree</span></a>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_equiv_P</span> <span class="id" title="var">H_RG</span> <span class="id" title="var">H_f'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">st1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> <span class="id" title="var">l</span> <span class="id" title="var">IHl</span> <span class="id" title="var">e'</span> <span class="id" title="var">r</span> <span class="id" title="var">IHr</span>] <span class="id" title="keyword">using</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.tree_ind"><span class="id" title="definition">M.tree_ind</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">st1'</span> <span class="id" title="var">H_P_st1</span> <span class="id" title="var">H_sub_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHr</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">y</span> <span class="id" title="var">H_y_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_sub_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In_node_iff"><span class="id" title="lemma">M.In_node_iff</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [] : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <span class="id" title="var">e'</span> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#E.lt"><span class="id" title="axiom">E.lt</span></a> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_sub_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In_node_iff"><span class="id" title="lemma">M.In_node_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence_Reflexive"><span class="id" title="method">Equivalence_Reflexive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_e'_in</span> <span class="id" title="var">H_lt_ee'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span> <span class="id" title="var">H_P_st1_aux</span> : (<span class="id" title="var">P</span> <span class="id" title="var">st1</span> (<span class="id" title="var">f</span> <span class="id" title="var">e'</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">e'</span>) (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#Raw.fold"><span class="id" title="definition">fold</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">l</span> <span class="id" title="var">st1'</span>))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence_Transitive"><span class="id" title="method">Equivalence_Transitive</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H_P_st1_aux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H_f'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H_RG</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">y</span> <span class="id" title="var">H_y_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_sub_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In"><span class="id" title="definition">M.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#M.In_node_iff"><span class="id" title="lemma">M.In_node_iff</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHr</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H_sub_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeGenTreeFoldA"><span class="id" title="module">MakeGenTreeFoldA</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab14"></a><h3 class="section">AVL implementation</h3>

    The generic tree implementation naturally leads to an AVL one. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="MakeAVLSetsWithFoldA" class="idref" href="#MakeAVLSetsWithFoldA"><span class="id" title="module">MakeAVLSetsWithFoldA</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>) &lt;: <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#SetsWithFoldA"><span class="id" title="module">SetsWithFoldA</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">Module</span> <span class="id" title="var">E</span> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetAVL.html#Make"><span class="id" title="module">MSetAVL.Make</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeGenTreeFoldA"><span class="id" title="module">MakeGenTreeFoldA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Int.html#Z_as_Int"><span class="id" title="module">Z_as_Int</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.Raw"><span class="id" title="module">Raw</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.Raw"><span class="id" title="module">Raw</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="MakeAVLSetsWithFoldA.foldWithAbortPrecompute" class="idref" href="#MakeAVLSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a> {<a id="A:343" class="idref" href="#A:343"><span class="id" title="binder">A</span></a> <a id="B:344" class="idref" href="#B:344"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} <a id="f_pre:345" class="idref" href="#f_pre:345"><span class="id" title="binder">f_pre</span></a> <a id="f_lt:346" class="idref" href="#f_lt:346"><span class="id" title="binder">f_lt</span></a> (<a id="f:347" class="idref" href="#f:347"><span class="id" title="binder">f</span></a>: <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:344"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:343"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:343"><span class="id" title="variable">A</span></a>) <a id="f_gt:348" class="idref" href="#f_gt:348"><span class="id" title="binder">f_gt</span></a> <a id="t:349" class="idref" href="#t:349"><span class="id" title="binder">t</span></a> (<a id="base:350" class="idref" href="#base:350"><span class="id" title="binder">base</span></a>: <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:343"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:343"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.foldWithAbort_Raw"><span class="id" title="definition">foldWithAbort_Raw</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:345"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:346"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:347"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:348"><span class="id" title="variable">f_gt</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:349"><span class="id" title="variable">t</span></a>.(<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.this"><span class="id" title="projection">this</span></a>)) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#base:350"><span class="id" title="variable">base</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="MakeAVLSetsWithFoldA.foldWithAbortPrecomputeSpec" class="idref" href="#MakeAVLSetsWithFoldA.foldWithAbortPrecomputeSpec"><span class="id" title="lemma">foldWithAbortPrecomputeSpec</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortPrecomputeSpecPred"><span class="id" title="definition">foldWithAbortPrecomputeSpecPred</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.lt"><span class="id" title="axiom">X.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.fold"><span class="id" title="definition">fold</span></a> (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">f_pre</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f_lt</span> <span class="id" title="var">f_gt</span> <span class="id" title="var">s</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_P_f</span> <span class="id" title="var">H_f'</span> <span class="id" title="var">H_RL</span> <span class="id" title="var">H_RG</span> <span class="id" title="var">H_P_ii'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.fold"><span class="id" title="definition">fold</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.foldWithAbort_RawSpec"><span class="id" title="lemma">foldWithAbort_RawSpec</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.this"><span class="id" title="projection">this</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA.Ok"><span class="id" title="class">Raw.Ok</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps"><span class="id" title="module">HasFoldWithAbortOps</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeAVLSetsWithFoldA"><span class="id" title="module">MakeAVLSetsWithFoldA</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab15"></a><h3 class="section">RBT implementation</h3>

    The generic tree implementation naturally leads to an RBT one. 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="MakeRBTSetsWithFoldA" class="idref" href="#MakeRBTSetsWithFoldA"><span class="id" title="module">MakeRBTSetsWithFoldA</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>) &lt;: <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#SetsWithFoldA"><span class="id" title="module">SetsWithFoldA</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">Module</span> <span class="id" title="var">E</span> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetRBT.html#Make"><span class="id" title="module">MSetRBT.Make</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeGenTreeFoldA"><span class="id" title="module">MakeGenTreeFoldA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetRBT.html#Color"><span class="id" title="module">Color</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.Raw"><span class="id" title="module">Raw</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.Raw"><span class="id" title="module">Raw</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="MakeRBTSetsWithFoldA.foldWithAbortPrecompute" class="idref" href="#MakeRBTSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a> {<a id="A:351" class="idref" href="#A:351"><span class="id" title="binder">A</span></a> <a id="B:352" class="idref" href="#B:352"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} <a id="f_pre:353" class="idref" href="#f_pre:353"><span class="id" title="binder">f_pre</span></a> <a id="f_lt:354" class="idref" href="#f_lt:354"><span class="id" title="binder">f_lt</span></a> (<a id="f:355" class="idref" href="#f:355"><span class="id" title="binder">f</span></a>: <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.elt"><span class="id" title="definition">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:352"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:351"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:351"><span class="id" title="variable">A</span></a>) <a id="f_gt:356" class="idref" href="#f_gt:356"><span class="id" title="binder">f_gt</span></a> <a id="t:357" class="idref" href="#t:357"><span class="id" title="binder">t</span></a> (<a id="base:358" class="idref" href="#base:358"><span class="id" title="binder">base</span></a>: <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:351"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:351"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.foldWithAbort_Raw"><span class="id" title="definition">foldWithAbort_Raw</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:353"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:354"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:355"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:356"><span class="id" title="variable">f_gt</span></a> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:357"><span class="id" title="variable">t</span></a>.(<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.this"><span class="id" title="projection">this</span></a>)) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#base:358"><span class="id" title="variable">base</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="MakeRBTSetsWithFoldA.foldWithAbortPrecomputeSpec" class="idref" href="#MakeRBTSetsWithFoldA.foldWithAbortPrecomputeSpec"><span class="id" title="lemma">foldWithAbortPrecomputeSpec</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortPrecomputeSpecPred"><span class="id" title="definition">foldWithAbortPrecomputeSpecPred</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.lt"><span class="id" title="axiom">X.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.fold"><span class="id" title="definition">fold</span></a> (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">f_pre</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f_lt</span> <span class="id" title="var">f_gt</span> <span class="id" title="var">s</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_P_f</span> <span class="id" title="var">H_f'</span> <span class="id" title="var">H_RL</span> <span class="id" title="var">H_RG</span> <span class="id" title="var">H_P_ii'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.fold"><span class="id" title="definition">fold</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.foldWithAbort_RawSpec"><span class="id" title="lemma">foldWithAbort_RawSpec</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.this"><span class="id" title="projection">this</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA.Ok"><span class="id" title="class">Raw.Ok</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps"><span class="id" title="module">HasFoldWithAbortOps</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeRBTSetsWithFoldA"><span class="id" title="module">MakeRBTSetsWithFoldA</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab16"></a><h2 class="section">Sorted Lists Implementation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="MakeListSetsWithFoldA" class="idref" href="#MakeListSetsWithFoldA"><span class="id" title="module">MakeListSetsWithFoldA</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>) &lt;: <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#SetsWithFoldA"><span class="id" title="module">SetsWithFoldA</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">Module</span> <span class="id" title="var">E</span> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetList.html#Make"><span class="id" title="module">MSetList.Make</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="MakeListSetsWithFoldA.foldWithAbortRaw" class="idref" href="#MakeListSetsWithFoldA.foldWithAbortRaw"><span class="id" title="definition">foldWithAbortRaw</span></a> {<a id="A:359" class="idref" href="#A:359"><span class="id" title="binder">A</span></a> <a id="B:360" class="idref" href="#B:360"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} (<a id="f_pre:361" class="idref" href="#f_pre:361"><span class="id" title="binder">f_pre</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.t"><span class="id" title="axiom">X.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:360"><span class="id" title="variable">B</span></a>) (<a id="f_lt:362" class="idref" href="#f_lt:362"><span class="id" title="binder">f_lt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.t"><span class="id" title="axiom">X.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:360"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:359"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:363" class="idref" href="#f:363"><span class="id" title="binder">f</span></a>: <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.t"><span class="id" title="axiom">X.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:360"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:359"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:359"><span class="id" title="variable">A</span></a>) (<a id="f_gt:364" class="idref" href="#f_gt:364"><span class="id" title="binder">f_gt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.t"><span class="id" title="axiom">X.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:360"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:359"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="t:365" class="idref" href="#t:365"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.t"><span class="id" title="axiom">X.t</span></a>) (<a id="acc:366" class="idref" href="#acc:366"><span class="id" title="binder">acc</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:359"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:359"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:365"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:366"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">xs</span> ⇒ (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pre_x:369" class="idref" href="#pre_x:369"><span class="id" title="binder">pre_x</span></a> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:361"><span class="id" title="variable">f_pre</span></a> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="acc:370" class="idref" href="#acc:370"><span class="id" title="binder">acc</span></a> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:363"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#pre_x:369"><span class="id" title="variable">pre_x</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:366"><span class="id" title="variable">acc</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:364"><span class="id" title="variable">f_gt</span></a> <span class="id" title="var">x</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#pre_x:369"><span class="id" title="variable">pre_x</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:370"><span class="id" title="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:370"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortRaw:367"><span class="id" title="definition">foldWithAbortRaw</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:361"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:362"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:363"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:364"><span class="id" title="variable">f_gt</span></a> <span class="id" title="var">xs</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:370"><span class="id" title="variable">acc</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="MakeListSetsWithFoldA.foldWithAbortPrecompute" class="idref" href="#MakeListSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a> {<a id="A:371" class="idref" href="#A:371"><span class="id" title="binder">A</span></a> <a id="B:372" class="idref" href="#B:372"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} <a id="f_pre:373" class="idref" href="#f_pre:373"><span class="id" title="binder">f_pre</span></a> <a id="f_lt:374" class="idref" href="#f_lt:374"><span class="id" title="binder">f_lt</span></a> <a id="f:375" class="idref" href="#f:375"><span class="id" title="binder">f</span></a> <a id="f_gt:376" class="idref" href="#f_gt:376"><span class="id" title="binder">f_gt</span></a> <a id="t:377" class="idref" href="#t:377"><span class="id" title="binder">t</span></a> <a id="acc:378" class="idref" href="#acc:378"><span class="id" title="binder">acc</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.foldWithAbortRaw"><span class="id" title="definition">foldWithAbortRaw</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:371"><span class="id" title="variable">A</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:372"><span class="id" title="variable">B</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:373"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:374"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:375"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:376"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:377"><span class="id" title="variable">t</span></a>.(<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.this"><span class="id" title="projection">this</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:378"><span class="id" title="variable">acc</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="MakeListSetsWithFoldA.foldWithAbortPrecomputeSpec" class="idref" href="#MakeListSetsWithFoldA.foldWithAbortPrecomputeSpec"><span class="id" title="lemma">foldWithAbortPrecomputeSpec</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortPrecomputeSpecPred"><span class="id" title="definition">foldWithAbortPrecomputeSpecPred</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.lt"><span class="id" title="axiom">X.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.fold"><span class="id" title="definition">fold</span></a> (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">f_pre</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f_lt</span> <span class="id" title="var">f_gt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [] <span class="id" title="var">l</span> <span class="id" title="var">H_is_ok_l</span> <span class="id" title="var">P</span> <span class="id" title="var">H_equiv_P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.fold"><span class="id" title="definition">fold</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.In"><span class="id" title="definition">In</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.this"><span class="id" title="projection">this</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.In"><span class="id" title="definition">Raw.In</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.fold"><span class="id" title="definition">Raw.fold</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_P_f</span> <span class="id" title="var">H_f'</span> <span class="id" title="var">H_RL</span> <span class="id" title="var">H_RG</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">base</span> := <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">i</span> <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> : (<span class="id" title="keyword">∀</span> <a id="e:379" class="idref" href="#e:379"><span class="id" title="binder">e</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:379"><span class="id" title="variable">e</span></a> <span class="id" title="var">base</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:379"><span class="id" title="variable">e</span></a> <span class="id" title="var">l</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">base</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.lt"><span class="id" title="axiom">X.lt</span></a> <span class="id" title="var">base</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.isok_iff"><span class="id" title="lemma">Raw.isok_iff</span></a> /<span class="id" title="var">base</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_is_ok_l</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">base</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">IH</span>]. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_sort</span> <span class="id" title="var">H_in_xxs</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">Pii'</span> /=.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [<span class="id" title="var">H_sort_xs</span> <span class="id" title="var">H_hd_rel</span> {<span class="id" title="var">H_sort</span>}] : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Sorted.html#Sorted"><span class="id" title="inductive">Sorted</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.lt"><span class="id" title="axiom">X.lt</span></a> <span class="id" title="var">xs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Sorted.html#HdRel"><span class="id" title="inductive">HdRel</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.lt"><span class="id" title="axiom">X.lt</span></a> <span class="id" title="var">x</span> <span class="id" title="var">xs</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H_sort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">H_hd_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA.Inf_alt"><span class="id" title="lemma">Raw.ML.Inf_alt</span></a> <span class="id" title="var">x</span> <span class="id" title="var">H_sort_xs</span>) ⇒ <span class="id" title="var">H_lt_xs</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_x_in_l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_in_xxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_hd"><span class="id" title="constructor">InA_cons_hd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq_equiv"><span class="id" title="axiom">X.eq_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_in_xs</span> : (<span class="id" title="keyword">∀</span> <a id="e:380" class="idref" href="#e:380"><span class="id" title="binder">e</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.t"><span class="id" title="axiom">X.t</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:380"><span class="id" title="variable">e</span></a> <span class="id" title="var">xs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:380"><span class="id" title="variable">e</span></a> <span class="id" title="var">l</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_in_xxs</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_tl"><span class="id" title="constructor">InA_cons_tl</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_P_next</span> : <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">x</span>) <span class="id" title="var">i</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">i'</span> <span class="id" title="var">x</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> -<span class="id" title="var">H_f'</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_P_f</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">f_gt</span> <span class="id" title="var">x</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">x</span>) <span class="id" title="var">i</span>)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_gt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span> <span class="id" title="var">H_suff</span> : (<span class="id" title="keyword">∀</span> <a id="st:381" class="idref" href="#st:381"><span class="id" title="binder">st</span></a>, <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">x</span>) <span class="id" title="var">i</span>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:381"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">x</span>) <span class="id" title="var">i</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <span class="id" title="var">f'</span>) <span class="id" title="var">xs</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:381"><span class="id" title="variable">st</span></a>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_suff</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">H_in_xs</span> <span class="id" title="var">H_lt_xs</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span> <span class="id" title="var">H_in_xxs</span> <span class="id" title="var">H_sort_xs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">H_RG</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span> <span class="id" title="var">H_x_in_l</span> <span class="id" title="var">H_gt</span>) ⇒ <span class="id" title="var">H_RG_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">x'</span> <span class="id" title="var">xs'</span> <span class="id" title="var">IH'</span>]. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H_in_xs</span> <span class="id" title="var">H_lt_xs</span> <span class="id" title="var">st</span> <span class="id" title="var">H_P_st</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_x'_in_l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <span class="id" title="var">x'</span> <span class="id" title="var">l</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_in_xs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_hd"><span class="id" title="constructor">InA_cons_hd</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq_equiv"><span class="id" title="axiom">X.eq_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH'</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_in_xs</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_tl"><span class="id" title="constructor">InA_cons_tl</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_lt_xs</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_tl"><span class="id" title="constructor">InA_cons_tl</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> -<span class="id" title="var">H_f'</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_RG_x</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_lt_xs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_hd"><span class="id" title="constructor">InA_cons_hd</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq_equiv"><span class="id" title="axiom">X.eq_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps"><span class="id" title="module">HasFoldWithAbortOps</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeListSetsWithFoldA"><span class="id" title="module">MakeListSetsWithFoldA</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab17"></a><h3 class="section">Unsorted Lists without Dups Implementation</h3>

</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="MakeWeakListSetsWithFoldA" class="idref" href="#MakeWeakListSetsWithFoldA"><span class="id" title="module">MakeWeakListSetsWithFoldA</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>) &lt;: <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#WSetsWithFoldA"><span class="id" title="module">WSetsWithFoldA</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">Module</span> <span class="id" title="var">E</span> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="MakeWeakListSetsWithFoldA.Raw" class="idref" href="#MakeWeakListSetsWithFoldA.Raw"><span class="id" title="module">Raw</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetWeakList.html#MakeRaw"><span class="id" title="module">MSetWeakList.MakeRaw</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="MakeWeakListSetsWithFoldA.E" class="idref" href="#MakeWeakListSetsWithFoldA.E"><span class="id" title="module">E</span></a> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.MSets.MSetInterface.html#WRaw2SetsOn"><span class="id" title="module">WRaw2SetsOn</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.E"><span class="id" title="module">E</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.Raw"><span class="id" title="module">Raw</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="MakeWeakListSetsWithFoldA.foldWithAbortRaw" class="idref" href="#MakeWeakListSetsWithFoldA.foldWithAbortRaw"><span class="id" title="definition">foldWithAbortRaw</span></a> {<a id="A:382" class="idref" href="#A:382"><span class="id" title="binder">A</span></a> <a id="B:383" class="idref" href="#B:383"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} (<a id="f_pre:384" class="idref" href="#f_pre:384"><span class="id" title="binder">f_pre</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.t"><span class="id" title="axiom">X.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:383"><span class="id" title="variable">B</span></a>) (<a id="f_lt:385" class="idref" href="#f_lt:385"><span class="id" title="binder">f_lt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.t"><span class="id" title="axiom">X.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:383"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:382"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:386" class="idref" href="#f:386"><span class="id" title="binder">f</span></a>: <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.t"><span class="id" title="axiom">X.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:383"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:382"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:382"><span class="id" title="variable">A</span></a>) (<a id="f_gt:387" class="idref" href="#f_gt:387"><span class="id" title="binder">f_gt</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.t"><span class="id" title="axiom">X.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:383"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:382"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="t:388" class="idref" href="#t:388"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.t"><span class="id" title="axiom">X.t</span></a>) (<a id="acc:389" class="idref" href="#acc:389"><span class="id" title="binder">acc</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:382"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:382"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:388"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:389"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">xs</span> ⇒ (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pre_x:392" class="idref" href="#pre_x:392"><span class="id" title="binder">pre_x</span></a> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:384"><span class="id" title="variable">f_pre</span></a> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="acc:393" class="idref" href="#acc:393"><span class="id" title="binder">acc</span></a> := <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:386"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#pre_x:392"><span class="id" title="variable">pre_x</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:389"><span class="id" title="variable">acc</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:387"><span class="id" title="variable">f_gt</span></a> <span class="id" title="var">x</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#pre_x:392"><span class="id" title="variable">pre_x</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:393"><span class="id" title="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:385"><span class="id" title="variable">f_lt</span></a> <span class="id" title="var">x</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#pre_x:392"><span class="id" title="variable">pre_x</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:393"><span class="id" title="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:393"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortRaw:390"><span class="id" title="definition">foldWithAbortRaw</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:384"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:385"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:386"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:387"><span class="id" title="variable">f_gt</span></a> <span class="id" title="var">xs</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:393"><span class="id" title="variable">acc</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="MakeWeakListSetsWithFoldA.foldWithAbortPrecompute" class="idref" href="#MakeWeakListSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a> {<a id="A:394" class="idref" href="#A:394"><span class="id" title="binder">A</span></a> <a id="B:395" class="idref" href="#B:395"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} <a id="f_pre:396" class="idref" href="#f_pre:396"><span class="id" title="binder">f_pre</span></a> <a id="f_lt:397" class="idref" href="#f_lt:397"><span class="id" title="binder">f_lt</span></a> <a id="f:398" class="idref" href="#f:398"><span class="id" title="binder">f</span></a> <a id="f_gt:399" class="idref" href="#f_gt:399"><span class="id" title="binder">f_gt</span></a> <a id="t:400" class="idref" href="#t:400"><span class="id" title="binder">t</span></a> <a id="acc:401" class="idref" href="#acc:401"><span class="id" title="binder">acc</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.foldWithAbortRaw"><span class="id" title="definition">foldWithAbortRaw</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#A:394"><span class="id" title="variable">A</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#B:395"><span class="id" title="variable">B</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_pre:396"><span class="id" title="variable">f_pre</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_lt:397"><span class="id" title="variable">f_lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f:398"><span class="id" title="variable">f</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#f_gt:399"><span class="id" title="variable">f_gt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#t:400"><span class="id" title="variable">t</span></a>.(<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.this"><span class="id" title="projection">this</span></a>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#acc:401"><span class="id" title="variable">acc</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="MakeWeakListSetsWithFoldA.foldWithAbortPrecomputeSpec" class="idref" href="#MakeWeakListSetsWithFoldA.foldWithAbortPrecomputeSpec"><span class="id" title="lemma">foldWithAbortPrecomputeSpec</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#foldWithAbortPrecomputeSpecPred"><span class="id" title="definition">foldWithAbortPrecomputeSpecPred</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.lt"><span class="id" title="axiom">X.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.fold"><span class="id" title="definition">fold</span></a> (@<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">f_pre</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f_lt</span> <span class="id" title="var">f_gt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [] <span class="id" title="var">l</span> <span class="id" title="var">H_is_ok_l</span> <span class="id" title="var">P</span> <span class="id" title="var">H_P_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.fold"><span class="id" title="definition">fold</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.foldWithAbortPrecompute"><span class="id" title="definition">foldWithAbortPrecompute</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.In"><span class="id" title="definition">In</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.this"><span class="id" title="projection">this</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.In"><span class="id" title="definition">Raw.In</span></a> /<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA.fold"><span class="id" title="definition">Raw.fold</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_P_f</span> <span class="id" title="var">H_f'</span> <span class="id" title="var">H_RL</span> <span class="id" title="var">H_RG</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">base</span> := <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">i</span> <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> : (<span class="id" title="keyword">∀</span> <a id="e:402" class="idref" href="#e:402"><span class="id" title="binder">e</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:402"><span class="id" title="variable">e</span></a> <span class="id" title="var">base</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:402"><span class="id" title="variable">e</span></a> <span class="id" title="var">l</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">base</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <span class="id" title="var">base</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_is_ok_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_is_ok_l</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">base</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">IH</span>]. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H_nodup_xxs</span> <span class="id" title="var">H_in_xxs</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">Pii'</span> /=.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [<span class="id" title="var">H_nin_x_xs</span> <span class="id" title="var">H_nodup_xs</span> {<span class="id" title="var">H_nodup_xxs</span>}] : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">xs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <span class="id" title="var">xs</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H_nodup_xxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_x_in_l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_in_xxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_hd"><span class="id" title="constructor">InA_cons_hd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq_equiv"><span class="id" title="axiom">X.eq_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_in_xs</span> : (<span class="id" title="keyword">∀</span> <a id="e:403" class="idref" href="#e:403"><span class="id" title="binder">e</span></a> : <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.t"><span class="id" title="axiom">X.t</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:403"><span class="id" title="variable">e</span></a> <span class="id" title="var">xs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:403"><span class="id" title="variable">e</span></a> <span class="id" title="var">l</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_in_xxs</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_tl"><span class="id" title="constructor">InA_cons_tl</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_P_next</span> : <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">x</span>) <span class="id" title="var">i</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">i'</span> <span class="id" title="var">x</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> -<span class="id" title="var">H_f'</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_P_f</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">f_gt</span> <span class="id" title="var">x</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">x</span>) <span class="id" title="var">i</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_lt</span> <span class="id" title="var">x</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">x</span>) <span class="id" title="var">i</span>)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">andb_true_iff</span></a> [<span class="id" title="var">H_gt</span> <span class="id" title="var">H_lt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span> <span class="id" title="var">H_suff</span> : (<span class="id" title="keyword">∀</span> <a id="st:404" class="idref" href="#st:404"><span class="id" title="binder">st</span></a>, <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">x</span>) <span class="id" title="var">i</span>) <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:404"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">f_pre</span> <span class="id" title="var">x</span>) <span class="id" title="var">i</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <span class="id" title="var">f'</span>) <span class="id" title="var">xs</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#st:404"><span class="id" title="variable">st</span></a>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_suff</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_neq_xs</span> : <span class="id" title="keyword">∀</span> <a id="e:405" class="idref" href="#e:405"><span class="id" title="binder">e</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:405"><span class="id" title="variable">e</span></a> <span class="id" title="var">xs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.lt"><span class="id" title="axiom">X.lt</span></a> <span class="id" title="var">x</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:405"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.lt"><span class="id" title="axiom">X.lt</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#e:405"><span class="id" title="variable">e</span></a> <span class="id" title="var">x</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">H_in</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.compare_spec"><span class="id" title="axiom">X.compare_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.compare"><span class="id" title="axiom">X.compare</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span>) ⇒ <span class="id" title="var">H_cmp</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H_cmp</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">H_nin_x_xs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : <span class="id" title="var">H_in_xs</span> <span class="id" title="var">H_neq_xs</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span> <span class="id" title="var">H_in_xxs</span> <span class="id" title="var">H_nodup_xs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">H_RG</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span> <span class="id" title="var">H_x_in_l</span> <span class="id" title="var">H_gt</span>) ⇒ <span class="id" title="var">H_RG_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">H_RL</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span> <span class="id" title="var">H_x_in_l</span> <span class="id" title="var">H_lt</span>) ⇒ <span class="id" title="var">H_RL_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">x'</span> <span class="id" title="var">xs'</span> <span class="id" title="var">IH'</span>]. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H_in_xs</span> <span class="id" title="var">H_neq_xs</span> <span class="id" title="var">st</span> <span class="id" title="var">H_P_st</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_x'_in_xxs'</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <span class="id" title="var">x'</span> (<span class="id" title="var">x'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">xs'</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_x'_in_l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq"><span class="id" title="axiom">X.eq</span></a> <span class="id" title="var">x'</span> <span class="id" title="var">l</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_in_xs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_hd"><span class="id" title="constructor">InA_cons_hd</span></a>, <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X.eq_equiv"><span class="id" title="axiom">X.eq_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH'</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_nin_x_xs</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_tl"><span class="id" title="constructor">InA_cons_tl</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_in_xs</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.SetoidList.html#InA_cons_tl"><span class="id" title="constructor">InA_cons_tl</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_neq_xs</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> -<span class="id" title="var">H_f'</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> : (<span class="id" title="var">H_neq_xs</span> <span class="id" title="var">x'</span> <span class="id" title="var">H_x'_in_xxs'</span>) ⇒ [] <span class="id" title="var">H_cmp</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_RG_x</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_RL_x</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#HasFoldWithAbortOps"><span class="id" title="module">HasFoldWithAbortOps</span></a> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#X"><span class="id" title="module">X</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MSetsExtra.MSetFoldWithAbort.html#MakeWeakListSetsWithFoldA"><span class="id" title="module">MakeWeakListSetsWithFoldA</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>